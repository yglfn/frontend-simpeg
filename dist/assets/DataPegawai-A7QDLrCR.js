import{_ as At,a as Rt,b as i,e as a,n as da,t as n,h as v,v as y,f as jt,G as Ft,H as M,F as h,B as P,g as w,k,x as K,y as ra,T as ua,C as j,m as f,p as ca,r as Gt,o as d,w as ea,E as D}from"./index-CerEmezX.js";import{l as Bt}from"./lodash-DuUh2JXe.js";const zt={class:"app-container"},Ot={class:"content-wrapper"},qt={class:"modern-header"},Ht={class:"header-actions"},Wt=["disabled"],Qt={class:"main-card"},Xt={class:"toolbar"},Zt={class:"search-wrapper"},ae={class:"filter-wrapper"},te={class:"select-wrapper"},ee=["value"],le={class:"select-wrapper"},ne=["value"],se={key:0,class:"active-filters-bar"},oe={key:0,class:"chip"},ie={key:1,class:"chip"},de={key:2,class:"chip"},re={class:"table-wrapper"},ue={key:0,class:"loading-overlay"},pe={key:1,class:"state-container error"},ge={key:2,class:"modern-table"},ve={key:0},me={class:"text-muted"},fe={class:"code-badge"},_e={class:"cell-primary"},be={class:"font-bold text-dark"},ke={class:"email-text"},we={key:0,class:"badge badge-indigo"},ce={key:1,class:"text-muted"},je={key:0,class:"badge badge-blue"},ye={key:1,class:"text-muted"},xe={class:"date-cell"},he={class:"date-main"},Pe={class:"date-sub"},De={class:"action-group"},Te=["onClick"],Me=["onClick"],Ce=["onClick"],Ye=["onClick"],Ve={key:1,class:"card-footer"},Ue={class:"footer-info"},Ke={key:0,class:"pagination-modern"},Ne=["disabled"],Se=["onClick"],Ie=["disabled"],Ee={class:"modal-header"},Je={class:"header-title"},Le={class:"id-badge"},$e={class:"modal-body"},Ae={class:"detail-header-block"},Re={class:"detail-titles"},Fe={class:"badge badge-green"},Ge={class:"detail-section"},Be={class:"detail-grid"},ze={class:"info-box full-width"},Oe={class:"font-bold"},qe={class:"info-box"},He={class:"info-box"},We={class:"info-box"},Qe={class:"info-box"},Xe={class:"info-box"},Ze={class:"info-box"},al={class:"info-box"},tl={class:"detail-section"},el={class:"detail-grid"},ll={class:"info-box"},nl={class:"info-box"},sl={class:"detail-section"},ol={class:"detail-grid"},il={class:"info-box"},dl={class:"info-box"},rl={class:"info-box"},ul={class:"detail-section"},pl={class:"detail-grid"},gl={class:"info-box"},vl={class:"info-box"},ml={class:"info-box"},fl={class:"info-box"},_l={key:0,class:"detail-section"},bl={class:"detail-grid"},kl={class:"info-box full-width"},wl={class:"info-box"},cl={class:"info-box"},jl={key:0,class:"info-box full-width"},yl={class:"detail-section"},xl={class:"detail-grid"},hl={class:"info-box"},Pl={class:"info-box"},Dl={class:"detail-section"},Tl={class:"detail-grid"},Ml={class:"info-box"},Cl={class:"info-box"},Yl={class:"info-box"},Vl={key:0,class:"info-box"},Ul={class:"detail-section"},Kl={class:"detail-grid"},Nl={class:"info-box"},Sl={class:"detail-section"},Il={style:{padding:"20px"}},El={key:0,class:"table-wrapper"},Jl={class:"modern-table"},Ll={class:"font-bold"},$l={class:"text-muted small-note"},Al={class:"text-muted small-note"},Rl={key:1,class:"text-center py-4 text-muted"},Fl={class:"detail-section"},Gl={class:"detail-grid"},Bl={class:"info-box"},zl={class:"info-box"},Ol={class:"modal-footer"},ql={class:"modal-header"},Hl={class:"modal-body"},Wl={key:0,class:"info-alert"},Ql={class:"form-row"},Xl={class:"form-group fluid"},Zl={class:"form-row three-cols"},an={class:"form-group"},tn={class:"form-group"},en={class:"form-group"},ln={class:"form-row"},nn={class:"form-group fluid"},sn={class:"form-row"},on={class:"form-group half"},dn={class:"form-group half"},rn={class:"form-row"},un={class:"form-group half"},pn={class:"select-wrapper fluid"},gn={class:"form-group half"},vn={class:"select-wrapper fluid"},mn=["value"],fn={class:"form-row three-cols"},_n={class:"form-group"},bn={class:"select-wrapper fluid"},kn=["value"],wn={class:"form-group"},cn={class:"select-wrapper fluid"},jn=["value"],yn={class:"form-group"},xn={class:"select-wrapper fluid"},hn=["value"],Pn={class:"form-row"},Dn={class:"form-group half"},Tn={class:"form-group half"},Mn={class:"form-row three-cols"},Cn={class:"form-group"},Yn={class:"select-wrapper fluid"},Vn=["value"],Un={class:"form-group"},Kn={class:"select-wrapper fluid"},Nn=["value"],Sn={class:"form-group"},In={class:"select-wrapper fluid"},En=["value"],Jn={class:"form-row"},Ln={class:"form-group half"},$n={class:"select-wrapper fluid"},An=["value"],Rn={class:"form-group half"},Fn={class:"select-wrapper fluid"},Gn=["value"],Bn={class:"form-row three-cols"},zn={class:"form-group"},On={class:"form-group"},qn={class:"form-group"},Hn={class:"form-row three-cols"},Wn={class:"form-group"},Qn={class:"select-wrapper"},Xn=["value"],Zn={class:"form-group"},as={class:"form-group"},ts={class:"form-row"},es={class:"form-group half"},ls={class:"form-group half"},ns={class:"form-row three-cols"},ss={class:"form-group"},os={class:"form-group"},is={class:"form-group"},ds={class:"select-wrapper fluid"},rs={key:1,class:"form-row"},us={class:"form-group fluid"},ps={class:"form-row"},gs={class:"form-group fluid"},vs={class:"form-actions-right"},ms=["disabled"],fs={key:0,class:"fas fa-spinner fa-spin"},_s={class:"modal-body"},bs={class:"modal-desc"},ks={class:"form-group",style:{margin:"15px 0"}},ws={class:"d-block mb-2 text-muted small"},cs={class:"modal-actions-center"},js=["disabled"],ys={class:"modal-body"},xs={class:"state-container",style:{padding:"20px 0"}},hs={style:{"font-size":"16px","margin-bottom":"5px"}},Ps={style:{"font-size":"12px","margin-bottom":"20px"}},Ds={class:"password-actions"},Ts={class:"option-card",style:{"margin-bottom":"20px",padding:"15px",background:"#f9fafb","border-radius":"8px",border:"1px solid #e5e7eb"}},Ms={style:{"font-size":"12px",color:"#6b7280","margin-bottom":"12px"}},Cs=["disabled"],Ys={class:"option-card",style:{padding:"15px",background:"#fff","border-radius":"8px",border:"1px solid #e5e7eb"}},Vs={class:"form-group",style:{"margin-bottom":"10px"}},Us=["disabled"],Ks={style:{"margin-top":"5px"}},Ns={key:0,style:{"font-size":"11px",color:"#ef4444",margin:"0"}},Ss={key:1,style:{"font-size":"11px",color:"#ef4444",margin:"0"}},Is={__name:"DataPegawai",setup(Es){const N=f(!1),W=f(""),E=f(""),J=f(""),L=f(""),z=f(!1),Q=f(!1),pa=f(!1),ga=f(!1),X=f(!1),F=f(!1),O=f(!1),la=f(!1),va=f(!1),C=f(""),G=f(""),B=f([]),s=f(null),Z=f([]),na=f([]),ma=f([]),ja=f([]),ya=f([]),xa=f([]),ha=f([]),Pa=f([]),Da=f([]),Ta=f([]),c=f({currentPage:1,perPage:10,total:0,lastPage:1,from:1,to:10}),o=f({nip:"",nama_lengkap:"",gelar_depan_1:"",gelar_depan_2:"",gelar_belakang:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"",agama_id:"",pendidikan_id:"",status_kawin_id:"",alamat_1_id:null,alamat_2_id:null,kode_pos:"",telepon:"",golongan_darah_id:"",bank_id:"",tmt_cpns:"",tmt_pns:"",jenis_pegawai_id:"",status_kepegawaian_id:"",jabatan_id:"",unit_kerja_id:"",pangkat_id:"",golongan_id:"",tmt_jabatan:"",no_sk_jabatan:"",tanggal_sk_jabatan:"",tugas_tambahan_id:"",tmt_tugas_tambahan:"",keterangan_tugas:""}),Ma=ca(()=>J.value||L.value||E.value),yt=ca(()=>{const l=[],{currentPage:t,lastPage:u}=c.value,e=1;for(let r=Math.max(2,t-e);r<=Math.min(u-1,t+e);r++)l.push(r);return t-e>2&&l.unshift("..."),t+e<u-1&&l.push("..."),l.unshift(1),u>1&&l.push(u),l.filter((r,g,p)=>p.indexOf(r)===g)}),xt=l=>{const t=Z.value.find(u=>u.id==l);return t?t.nama_jabatan:"..."},ht=l=>{const t=na.value.find(u=>u.id==l);return t?t.nama_unit:"..."},Pt=l=>l?l.toLowerCase().includes("pns")?"badge-green":l.toLowerCase().includes("pppk")?"badge-blue":l.toLowerCase().includes("honorer")?"badge-orange":"badge-gray":"badge-gray",Dt=async()=>{var l,t,u,e,r;try{F.value=!0;const g={...o.value};for(const p in g)g[p]===""&&(g[p]=null);await j.post("/super-admin/profile-pegawai",g),D.success("Pegawai berhasil ditambahkan"),ta(),S()}catch(g){if(console.error("Create Error",g),((l=g.response)==null?void 0:l.status)===422&&((u=(t=g.response)==null?void 0:t.data)!=null&&u.errors)){const p=g.response.data.errors,m=Object.values(p)[0][0];D.error(m)}else D.error(((r=(e=g.response)==null?void 0:e.data)==null?void 0:r.message)||"Gagal menambah pegawai")}finally{F.value=!1}},Tt=async()=>{var l,t,u,e,r,g,p,m,_,b,$,A,R;try{F.value=!0;const x={...o.value};for(const Y in x)x[Y]===""&&(x[Y]=null);if(await j.put(`/super-admin/profile-pegawai/${s.value.profile_id}`,x),D.success("Pegawai berhasil diperbarui"),ta(),await S(),z.value&&s.value)try{const Y=await j.get(`/super-admin/profile-pegawai/${s.value.profile_id}`);if((l=Y.data)!=null&&l.data){const T=Y.data.data,ia=((t=T.pegawai)==null?void 0:t.updated_at)||T.updated_at;s.value={...s.value,profile:T,updated_at:ia,jenis_pegawai:(u=T.pegawai)==null?void 0:u.jenis_pegawai,status_kepegawaian:(e=T.pegawai)==null?void 0:e.status_kepegawaian,golongan:(r=T.pegawai)==null?void 0:r.golongan,pangkat:(g=T.pegawai)==null?void 0:g.pangkat,jabatan:(p=T.pegawai)==null?void 0:p.jabatan,unit_kerja:(m=T.pegawai)==null?void 0:m.unit_kerja}}}catch(Y){console.error("Failed to refresh detail",Y)}}catch(x){if(console.error("Update Error",x),((_=x.response)==null?void 0:_.status)===422&&(($=(b=x.response)==null?void 0:b.data)!=null&&$.errors)){const Y=x.response.data.errors,T=Object.values(Y)[0][0];D.error(T)}else D.error(((R=(A=x.response)==null?void 0:A.data)==null?void 0:R.message)||"Gagal memperbarui pegawai")}finally{F.value=!1}},Mt=async()=>{try{la.value=!0,await j.delete(`/super-admin/profile-pegawai/${s.value.profile_id}`),D.success("Pegawai berhasil dihapus"),_a(),S()}catch{D.error("Gagal menghapus pegawai")}finally{la.value=!1}},Ca=async l=>{var t;try{X.value=!0,Q.value=!0;const e=(await j.get(`/super-admin/profile-pegawai/${l.profile_id}`)).data.data,r=e.pegawai,g=e.riwayat_jabatan;s.value={...l,profile:e},va.value||await ba(),o.value={nip:e.nip||"",nama_lengkap:e.nama_lengkap||"",email:((t=e.user)==null?void 0:t.email)||"",gelar_depan_1:e.gelar_depan_1||"",gelar_depan_2:e.gelar_depan_2||"",gelar_belakang:e.gelar_belakang||"",tempat_lahir:e.tempat_lahir||"",tanggal_lahir:q(e.tanggal_lahir),jenis_kelamin:e.jenis_kelamin||"",agama_id:e.agama_id||"",pendidikan_id:e.pendidikan_id||"",status_kawin_id:e.status_kawin_id||"",alamat_1_id:e.alamat_1_id||"",alamat_2_id:e.alamat_2_id||"",kode_pos:e.kode_pos||"",telepon:e.telepon||"",golongan_darah_id:e.golongan_darah_id||"",bank_id:e.bank_id||"",tmt_cpns:q(e.tmt_cpns),tmt_pns:q(e.tmt_pns),jenis_pegawai_id:(r==null?void 0:r.jenis_pegawai_id)||"",status_kepegawaian_id:(r==null?void 0:r.status_kepegawaian_id)||"",jabatan_id:(r==null?void 0:r.jabatan_id)||"",unit_kerja_id:(r==null?void 0:r.unit_kerja_id)||"",pangkat_id:(r==null?void 0:r.pangkat_id)||"",golongan_id:(r==null?void 0:r.golongan_id)||"",...(()=>{var _;const p=(g==null?void 0:g.find(b=>b.is_aktif))||(g==null?void 0:g[g.length-1]),m=(_=p==null?void 0:p.riwayat_tugas_tambahan)==null?void 0:_.find(b=>!b.tmt_selesai);return{no_sk_jabatan:(p==null?void 0:p.no_sk)||"",tanggal_sk_jabatan:q(p==null?void 0:p.tanggal_sk),tmt_jabatan:q(p==null?void 0:p.tmt_jabatan),bidang_studi:(p==null?void 0:p.bidang_studi)||"",keterangan_jabatan:(p==null?void 0:p.keterangan_jabatan)||"",is_diperbantukan:(p==null?void 0:p.is_diperbantukan)||!1,keterangan_diperbantukan:(p==null?void 0:p.keterangan_diperbantukan)||"",tunjangan_jabatan:(p==null?void 0:p.tunjangan_jabatan)||"",tugas_tambahan_id:(m==null?void 0:m.tugas_tambahan_id)||"",tmt_tugas_tambahan:q(m==null?void 0:m.tmt_mulai),keterangan_tugas:(m==null?void 0:m.keterangan)||""}})()}}catch(u){console.error("Error fetching full detail for edit:",u),D.error("Gagal memuat detail data untuk edit"),Q.value=!1}},Ct=()=>{o.value={nip:"",nama_lengkap:"",gelar_depan_1:"",gelar_depan_2:"",gelar_belakang:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"",agama_id:"",pendidikan_id:"",status_kawin_id:"",alamat_1_id:null,alamat_2_id:null,kode_pos:"",telepon:"",golongan_darah_id:"",bank_id:"",tmt_cpns:"",tmt_pns:"",jenis_pegawai_id:"",status_kepegawaian_id:"",jabatan_id:"",unit_kerja_id:"",pangkat_id:"",golongan_id:"",tmt_jabatan:"",no_sk_jabatan:"",tanggal_sk_jabatan:"",bidang_studi:"",keterangan_jabatan:"",is_diperbantukan:!1,keterangan_diperbantukan:"",tunjangan_jabatan:"",tugas_tambahan_id:"",tmt_tugas_tambahan:"",keterangan_tugas:""}},Yt=async l=>{var t,u,e;if(!((u=(t=l.profile)==null?void 0:t.user)!=null&&u.id)){D.warning("Pegawai ini belum memiliki akun user.");return}try{const r=await j.get(`/super-admin/profile-pegawai/${l.profile_id}`);(e=r.data)!=null&&e.data?s.value={...l,profile:r.data.data}:s.value=l}catch(r){console.error("Error fetching profile for password reset:",r),s.value=l}C.value="",G.value="",ga.value=!0},sa=()=>{ga.value=!1,C.value="",G.value="",s.value=null},Vt=l=>{var t;return(t=l==null?void 0:l.profile)!=null&&t.tanggal_lahir?l.profile.tanggal_lahir.replace(/-/g,""):"YYYYMMDD"},Ya=ca(()=>C.value&&C.value.length>=6&&C.value===G.value),Ut=async()=>{var t,u;if(!((u=(t=s.value)==null?void 0:t.profile)!=null&&u.tanggal_lahir)){D.error("Tanggal lahir tidak tersedia, tidak bisa reset default.");return}const l=s.value.profile.tanggal_lahir.replace(/-/g,"");try{O.value=!0,await j.post(`/super-admin/users/${s.value.profile.user.id}/reset-password`,{new_password:l}),D.success(`Password berhasil direset menjadi: ${l}`),sa()}catch(e){console.error("Reset Password Error",e),D.error("Gagal mereset password.")}finally{O.value=!1}},Kt=async()=>{if(Ya.value)try{O.value=!0,await j.post(`/super-admin/users/${s.value.profile.user.id}/reset-password`,{new_password:C.value}),D.success("Password berhasil diubah."),sa()}catch(l){console.error("Change Password Error",l),D.error("Gagal mengubah password.")}finally{O.value=!1}},Nt=async()=>{Ct(),X.value=!1,Q.value=!0,va.value||await ba()},St=async l=>{var t,u,e,r,g,p,m;try{N.value=!0;const _=await j.get(`/super-admin/profile-pegawai/${l.profile_id}`);if((t=_.data)!=null&&t.data){const b=_.data.data;s.value={...l,profile:b,jenis_pegawai:(u=b.pegawai)==null?void 0:u.jenis_pegawai,status_kepegawaian:(e=b.pegawai)==null?void 0:e.status_kepegawaian,golongan:(r=b.pegawai)==null?void 0:r.golongan,pangkat:(g=b.pegawai)==null?void 0:g.pangkat,jabatan:(p=b.pegawai)==null?void 0:p.jabatan,unit_kerja:(m=b.pegawai)==null?void 0:m.unit_kerja}}else s.value=l;z.value=!0}catch(_){console.error("Error loading detail:",_),s.value=l,z.value=!0}finally{N.value=!1}},aa=f(""),It=l=>{s.value=l,aa.value="",pa.value=!0},fa=()=>{z.value=!1,setTimeout(()=>{s.value=null},300)},ta=()=>{Q.value=!1,z.value||(s.value=null)},_a=()=>{pa.value=!1,aa.value="",s.value=null},ba=async()=>{try{const[l,t,u,e,r,g,p,m,_,b]=await Promise.all([j.get("/super-admin/jabatan"),j.get("/super-admin/unit-kerja"),j.get("/super-admin/reference/pangkat"),j.get("/super-admin/reference/status-kepegawaian"),j.get("/super-admin/reference/agama"),j.get("/super-admin/reference/pendidikan"),j.get("/super-admin/reference/status-kawin"),j.get("/super-admin/reference/golongan-darah"),j.get("/super-admin/reference/jenis-pegawai"),j.get("/super-admin/reference/tugas-tambahan")]);Z.value=l.data.data,na.value=t.data.data,ma.value=u.data.data,ja.value=e.data.data,ya.value=r.data.data,xa.value=g.data.data,ha.value=p.data.data,Pa.value=m.data.data,Da.value=_.data.data,Ta.value=b.data.data,va.value=!0}catch(l){console.error("Error fetching references:",l)}},S=async()=>{try{N.value=!0,W.value="";const l={page:c.value.currentPage,per_page:c.value.perPage,search:E.value,jabatan_id:J.value,unit_kerja_id:L.value},u=(await j.get("/super-admin/profile-pegawai",{params:l})).data;u.data&&(B.value=u.data,c.value={currentPage:1,perPage:B.value.length||10,total:B.value.length||0,lastPage:1,from:1,to:B.value.length||0},u.meta&&(c.value={currentPage:u.meta.current_page||1,perPage:u.meta.per_page||10,total:u.meta.total||0,lastPage:u.meta.last_page||1,from:u.meta.from||1,to:u.meta.to||0}))}catch(l){console.error("Error loading employees:",l),W.value="Gagal memuat data pegawai."}finally{N.value=!1}},Et=()=>{const l=Z.value.find(t=>t.id===o.value.jabatan_id);l&&(l.tunjangan_jabatan&&(o.value.tunjangan_jabatan=l.tunjangan_jabatan),o.value.keterangan_jabatan||(o.value.keterangan_jabatan=l.nama_jabatan))},Va=()=>{E.value="",J.value="",L.value="",c.value.currentPage=1,S()},ka=()=>{c.value.currentPage=1,S()},oa=()=>{c.value.currentPage=1,S()},Jt=()=>{Va()},wa=l=>{l!=="..."&&l>=1&&l<=c.value.lastPage&&(c.value.currentPage=l,S())},Ua=Bt.debounce(()=>{ka()},500),Lt=async()=>{X.value?await Tt():await Dt()},I=l=>l?new Date(l).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-",q=l=>{if(!l)return"";const t=new Date(l);if(isNaN(t.getTime()))return"";const u=t.getFullYear(),e=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${u}-${e}-${r}`},$t=l=>l?new Date(l).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"-",V=l=>{var u;if(!((u=l==null?void 0:l.profile)!=null&&u.riwayat_jabatan))return null;const t=l.profile.riwayat_jabatan;return t.length===0?null:t.find(e=>e.is_aktif)||t[t.length-1]},H=l=>{const t=V(l);if(!t||!t.riwayat_tugas_tambahan)return null;const u=t.riwayat_tugas_tambahan;return Array.isArray(u)?u.find(e=>!e.tmt_selesai)||u[u.length-1]:null},Ka=l=>l?new Date(l).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return Rt(()=>{S(),ba()}),(l,t)=>{const u=Gt("el-date-picker");return d(),i(h,null,[a("div",zt,[a("div",Ot,[a("header",qt,[t[51]||(t[51]=a("div",{class:"header-content"},[a("div",{class:"header-icon"},[a("i",{class:"fas fa-user-tie"})]),a("div",{class:"header-text"},[a("h1",null,"Manajemen Data Pegawai"),a("p",null,"Kelola data pegawai, jabatan, dan unit kerja.")])],-1)),a("div",Ht,[a("button",{class:"btn btn-secondary btn-icon-text",onClick:Va,disabled:N.value},[a("i",{class:da(["fas fa-sync-alt",{"fa-spin":N.value}])},null,2),a("span",null,n(N.value?"Memuat...":"Refresh"),1)],8,Wt),a("button",{class:"btn btn-primary btn-icon-text",onClick:Nt},[...t[50]||(t[50]=[a("i",{class:"fas fa-plus"},null,-1),a("span",null,"Pegawai Baru",-1)])])])]),a("div",Qt,[a("div",Xt,[a("div",Zt,[t[52]||(t[52]=a("i",{class:"fas fa-search"},null,-1)),v(a("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>E.value=e),placeholder:"Cari NIP, nama, atau email...",onKeyup:Ft(ka,["enter"]),onInput:t[1]||(t[1]=(...e)=>jt(Ua)&&jt(Ua)(...e))},null,544),[[y,E.value]])]),a("div",ae,[a("div",te,[v(a("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>J.value=e),onChange:oa},[t[53]||(t[53]=a("option",{value:"",disabled:"",selected:""},"Filter Jabatan",-1)),t[54]||(t[54]=a("option",{value:""},"Semua Jabatan",-1)),(d(!0),i(h,null,P(Z.value,e=>(d(),i("option",{key:e.id,value:e.id},n(e.nama_jabatan),9,ee))),128))],544),[[M,J.value]]),t[55]||(t[55]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))]),a("div",le,[v(a("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>L.value=e),onChange:oa},[t[56]||(t[56]=a("option",{value:"",disabled:"",selected:""},"Filter Unit Kerja",-1)),t[57]||(t[57]=a("option",{value:""},"Semua Unit",-1)),(d(!0),i(h,null,P(na.value,e=>(d(),i("option",{key:e.id,value:e.id},n(e.nama_unit),9,ne))),128))],544),[[M,L.value]]),t[58]||(t[58]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))]),Ma.value?(d(),i("button",{key:0,class:"btn-icon-only",onClick:Jt,title:"Reset Filter"},[...t[59]||(t[59]=[a("i",{class:"fas fa-times"},null,-1)])])):w("",!0)])]),Ma.value?(d(),i("div",se,[t[60]||(t[60]=a("span",{class:"filter-label"},"Filter Aktif:",-1)),J.value?(d(),i("span",oe,[k(" Jabatan: "+n(xt(J.value))+" ",1),a("i",{class:"fas fa-times",onClick:t[4]||(t[4]=e=>{J.value="",oa()})})])):w("",!0),L.value?(d(),i("span",ie,[k(" Unit: "+n(ht(L.value))+" ",1),a("i",{class:"fas fa-times",onClick:t[5]||(t[5]=e=>{L.value="",oa()})})])):w("",!0),E.value?(d(),i("span",de,[k(' "'+n(E.value)+'" ',1),a("i",{class:"fas fa-times",onClick:t[6]||(t[6]=e=>{E.value="",ka()})})])):w("",!0)])):w("",!0),a("div",re,[N.value?(d(),i("div",ue,[...t[61]||(t[61]=[a("div",{class:"spinner"},null,-1)])])):w("",!0),W.value?(d(),i("div",pe,[t[62]||(t[62]=a("div",{class:"state-icon bg-red"},[a("i",{class:"fas fa-exclamation-triangle"})],-1)),t[63]||(t[63]=a("h3",null,"Gagal Memuat Data",-1)),a("p",null,n(W.value),1),a("button",{class:"btn btn-primary",onClick:S},"Coba Lagi")])):w("",!0),W.value?w("",!0):(d(),i("table",ge,[t[69]||(t[69]=a("thead",null,[a("tr",null,[a("th",{width:"50"},"No"),a("th",null,"NIP / Identitas"),a("th",null,"Nama Pegawai"),a("th",null,"Jabatan"),a("th",null,"Unit Kerja"),a("th",null,"Status"),a("th",null,"Terakhir Diubah"),a("th",{class:"text-right"},"Aksi")])],-1)),a("tbody",null,[!N.value&&B.value.length===0?(d(),i("tr",ve,[...t[64]||(t[64]=[a("td",{colspan:"8"},[a("div",{class:"state-container empty"},[a("div",{class:"state-icon bg-blue"},[a("i",{class:"fas fa-inbox"})]),a("h3",null,"Data Kosong"),a("p",null,"Belum ada data pegawai yang ditemukan.")])],-1)])])):(d(!0),i(h,{key:1},P(B.value,(e,r)=>{var g,p,m,_,b,$,A,R;return d(),i("tr",{key:e.id},[a("td",me,n(c.value.from+r),1),a("td",null,[a("span",fe,n(((g=e.profile)==null?void 0:g.nip)||"-"),1)]),a("td",null,[a("div",_e,[a("span",be,n(((p=e.profile)==null?void 0:p.nama_lengkap)||((_=(m=e.profile)==null?void 0:m.user)==null?void 0:_.username)||"Tidak Ada Nama"),1),a("span",ke,n((($=(b=e.profile)==null?void 0:b.user)==null?void 0:$.email)||"-"),1)])]),a("td",null,[e.jabatan?(d(),i("span",we,n(e.jabatan.nama_jabatan||"-"),1)):(d(),i("span",ce,"-"))]),a("td",null,[e.unit_kerja?(d(),i("span",je,n(e.unit_kerja.nama_unit||"-"),1)):(d(),i("span",ye,"-"))]),a("td",null,[a("span",{class:da(["badge",Pt((A=e.status_kepegawaian)==null?void 0:A.nama_status)])},n(((R=e.status_kepegawaian)==null?void 0:R.nama_status)||"Tidak Ada Status"),3)]),a("td",null,[a("div",xe,[a("span",he,n(I(e.updated_at||e.created_at)),1),a("span",Pe,n($t(e.updated_at||e.created_at)),1)])]),a("td",null,[a("div",De,[a("button",{class:"btn-action view",onClick:x=>St(e),title:"Detail"},[...t[65]||(t[65]=[a("i",{class:"fas fa-eye"},null,-1)])],8,Te),a("button",{class:"btn-action edit",onClick:x=>Ca(e),title:"Edit"},[...t[66]||(t[66]=[a("i",{class:"fas fa-pen"},null,-1)])],8,Me),a("button",{class:"btn-action password",onClick:x=>Yt(e),title:"Reset & Ubah Password",style:{background:"#f3e8ff",color:"#9333ea"}},[...t[67]||(t[67]=[a("i",{class:"fas fa-key"},null,-1)])],8,Ce),a("button",{class:"btn-action delete",onClick:x=>It(e),title:"Hapus"},[...t[68]||(t[68]=[a("i",{class:"fas fa-trash-alt"},null,-1)])],8,Ye)])])])}),128))])]))]),B.value.length>0?(d(),i("div",Ve,[a("div",Ue,[t[70]||(t[70]=k(" Menampilkan ",-1)),a("b",null,n(c.value.from)+"-"+n(c.value.to),1),t[71]||(t[71]=k(" dari ",-1)),a("b",null,n(c.value.total),1),t[72]||(t[72]=k(" data ",-1))]),c.value.lastPage>1?(d(),i("div",Ke,[a("button",{class:"page-btn prev",disabled:c.value.currentPage===1,onClick:t[7]||(t[7]=e=>wa(c.value.currentPage-1))},[...t[73]||(t[73]=[a("i",{class:"fas fa-chevron-left"},null,-1)])],8,Ne),(d(!0),i(h,null,P(yt.value,e=>(d(),i("button",{key:e,class:da(["page-btn number",{active:e===c.value.currentPage,dots:e==="..."}]),onClick:r=>wa(e)},n(e),11,Se))),128)),a("button",{class:"page-btn next",disabled:c.value.currentPage===c.value.lastPage,onClick:t[8]||(t[8]=e=>wa(c.value.currentPage+1))},[...t[74]||(t[74]=[a("i",{class:"fas fa-chevron-right"},null,-1)])],8,Ie)])):w("",!0)])):w("",!0)])]),K(ua,{name:"modal-fade"},{default:ra(()=>{var e,r,g,p,m,_,b,$,A,R,x,Y,T,ia,Na,Sa,Ia,Ea,Ja,La,$a,Aa,Ra,Fa,Ga,Ba,za,Oa,qa,Ha,Wa,Qa,Xa,Za,at,tt,et,lt,nt,st,ot,it,dt,rt,ut,pt,gt,vt,mt,ft,_t,bt,kt;return[z.value?(d(),i("div",{key:0,class:"modal-backdrop",onClick:fa},[a("div",{class:"modal-card modal-lg",onClick:t[10]||(t[10]=ea(()=>{},["stop"]))},[a("div",Ee,[a("div",Je,[t[75]||(t[75]=a("h2",null,"Detail Pegawai",-1)),a("span",Le,"ID: "+n((e=s.value)==null?void 0:e.id),1)]),a("button",{class:"btn-close",onClick:fa},[...t[76]||(t[76]=[a("i",{class:"fas fa-times"},null,-1)])])]),a("div",$e,[a("div",Ae,[t[77]||(t[77]=a("div",{class:"icon-circle bg-indigo"},[a("i",{class:"fas fa-user-tie"})],-1)),a("div",Re,[a("h3",null,n(((g=(r=s.value)==null?void 0:r.profile)==null?void 0:g.nama_lengkap)||"Tidak Ada Nama"),1),a("span",Fe,n(((m=(p=s.value)==null?void 0:p.status_kepegawaian)==null?void 0:m.nama_status)||"-"),1)])]),a("div",Ge,[t[86]||(t[86]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-id-card"}),a("span",null,"Identitas Pribadi")],-1)),a("div",Be,[a("div",ze,[t[78]||(t[78]=a("label",null,"NIP / NIK / Identitas",-1)),a("p",Oe,n(((_=s.value.profile)==null?void 0:_.nip)||"-"),1)]),a("div",qe,[t[79]||(t[79]=a("label",null,"Nama Lengkap",-1)),a("p",null,n(((b=s.value.profile)==null?void 0:b.nama_lengkap)||"-"),1)]),a("div",He,[t[80]||(t[80]=a("label",null,"Gelar (Depan / Belakang)",-1)),a("p",null,n((($=s.value.profile)==null?void 0:$.gelar_depan_1)||"")+" "+n(((A=s.value.profile)==null?void 0:A.gelar_depan_2)||"")+" / "+n(((R=s.value.profile)==null?void 0:R.gelar_belakang)||""),1)]),a("div",We,[t[81]||(t[81]=a("label",null,"Tempat, Tanggal Lahir",-1)),a("p",null,n((x=s.value.profile)!=null&&x.tempat_lahir?s.value.profile.tempat_lahir+", ":"")+" "+n(I((Y=s.value.profile)==null?void 0:Y.tanggal_lahir)),1)]),a("div",Qe,[t[82]||(t[82]=a("label",null,"Jenis Kelamin / Gol. Darah",-1)),a("p",null,n(((T=s.value.profile)==null?void 0:T.jenis_kelamin)==="L"?"Laki-laki":((ia=s.value.profile)==null?void 0:ia.jenis_kelamin)==="P"?"Perempuan":"-")+" / "+n(((Sa=(Na=s.value.profile)==null?void 0:Na.golongan_darah)==null?void 0:Sa.kode)||"-"),1)]),a("div",Xe,[t[83]||(t[83]=a("label",null,"Agama",-1)),a("p",null,n(((Ea=(Ia=s.value.profile)==null?void 0:Ia.agama)==null?void 0:Ea.nama_agama)||"-"),1)]),a("div",Ze,[t[84]||(t[84]=a("label",null,"Status Pernikahan",-1)),a("p",null,n(((La=(Ja=s.value.profile)==null?void 0:Ja.status_kawin)==null?void 0:La.status)||"-"),1)]),a("div",al,[t[85]||(t[85]=a("label",null,"Pendidikan Terakhir",-1)),a("p",null,n(((Aa=($a=s.value.profile)==null?void 0:$a.pendidikan)==null?void 0:Aa.nama_jenjang)||"-"),1)])])]),a("div",tl,[t[89]||(t[89]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-address-book"}),a("span",null,"Kontak")],-1)),a("div",el,[a("div",ll,[t[87]||(t[87]=a("label",null,"Telepon",-1)),a("p",null,n(((Ra=s.value.profile)==null?void 0:Ra.telepon)||"-"),1)]),a("div",nl,[t[88]||(t[88]=a("label",null,"Email",-1)),a("p",null,n(((Ga=(Fa=s.value.profile)==null?void 0:Fa.user)==null?void 0:Ga.email)||"-"),1)])])]),a("div",sl,[t[93]||(t[93]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-briefcase"}),a("span",null,"Status Kepegawaian")],-1)),a("div",ol,[a("div",il,[t[90]||(t[90]=a("label",null,"Status Pegawai",-1)),a("p",null,n(((Ba=s.value.status_kepegawaian)==null?void 0:Ba.nama_status)||"-"),1)]),a("div",dl,[t[91]||(t[91]=a("label",null,"Jenis Pegawai",-1)),a("p",null,n(((za=s.value.jenis_pegawai)==null?void 0:za.nama)||"-"),1)]),a("div",rl,[t[92]||(t[92]=a("label",null,"Unit Kerja",-1)),a("p",null,n(((Oa=s.value.unit_kerja)==null?void 0:Oa.nama_unit)||"-"),1)])])]),a("div",ul,[t[98]||(t[98]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-user-tag"}),a("span",null,"Jabatan & Kepangkatan")],-1)),a("div",pl,[a("div",gl,[t[94]||(t[94]=a("label",null,"Jabatan",-1)),a("p",null,n(((qa=s.value.jabatan)==null?void 0:qa.nama_jabatan)||"-"),1)]),a("div",vl,[t[95]||(t[95]=a("label",null,"Pangkat / Golongan",-1)),a("p",null,n(((Ha=s.value.pangkat)==null?void 0:Ha.nama_pangkat)||"-")+" ("+n(((Wa=s.value.golongan)==null?void 0:Wa.nama_golongan)||"-")+")",1)]),a("div",ml,[t[96]||(t[96]=a("label",null,"Nomor SK Jabatan",-1)),a("p",null,n(((Qa=V(s.value))==null?void 0:Qa.no_sk)||"-"),1)]),a("div",fl,[t[97]||(t[97]=a("label",null,"Tanggal SK / TMT Jabatan",-1)),a("p",null,n(I((Xa=V(s.value))==null?void 0:Xa.tanggal_sk))+" / "+n(I((Za=V(s.value))==null?void 0:Za.tmt_jabatan)),1)])])]),H(s.value)?(d(),i("div",_l,[t[103]||(t[103]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-tasks"}),a("span",null,"Tugas Tambahan")],-1)),a("div",bl,[a("div",kl,[t[99]||(t[99]=a("label",null,"Nama Tugas",-1)),a("p",null,n(((tt=(at=H(s.value))==null?void 0:at.tugas_tambahan)==null?void 0:tt.nama_tugas)||"-"),1)]),a("div",wl,[t[100]||(t[100]=a("label",null,"TMT Tugas",-1)),a("p",null,n(I((et=H(s.value))==null?void 0:et.tmt_mulai)),1)]),a("div",cl,[t[101]||(t[101]=a("label",null,"Unit Kerja Tugas",-1)),a("p",null,n(((st=(nt=(lt=H(s.value))==null?void 0:lt.tugas_tambahan)==null?void 0:nt.unit_kerja)==null?void 0:st.nama_unit)||"-"),1)]),(ot=H(s.value))!=null&&ot.keterangan?(d(),i("div",jl,[t[102]||(t[102]=a("label",null,"Keterangan",-1)),a("p",null,n(((it=H(s.value))==null?void 0:it.keterangan)||"-"),1)])):w("",!0)])])):w("",!0),a("div",yl,[t[106]||(t[106]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-hourglass-half"}),a("span",null,"Masa Kerja")],-1)),a("div",xl,[a("div",hl,[t[104]||(t[104]=a("label",null,"TMT CPNS",-1)),a("p",null,n(I((dt=s.value.profile)==null?void 0:dt.tmt_cpns)),1)]),a("div",Pl,[t[105]||(t[105]=a("label",null,"TMT PNS",-1)),a("p",null,n(I((rt=s.value.profile)==null?void 0:rt.tmt_pns)),1)])])]),a("div",Dl,[t[111]||(t[111]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-graduation-cap"}),a("span",null,"Detail Akademik & Lainnya")],-1)),a("div",Tl,[a("div",Ml,[t[107]||(t[107]=a("label",null,"Bidang Studi",-1)),a("p",null,n(((ut=V(s.value))==null?void 0:ut.bidang_studi)||"-"),1)]),a("div",Cl,[t[108]||(t[108]=a("label",null,"Keterangan Jabatan",-1)),a("p",null,n(((pt=V(s.value))==null?void 0:pt.keterangan_jabatan)||"-"),1)]),a("div",Yl,[t[109]||(t[109]=a("label",null,"Diperbantukan",-1)),a("p",null,n((gt=V(s.value))!=null&&gt.is_diperbantukan?"Ya":"Tidak"),1)]),(vt=V(s.value))!=null&&vt.is_diperbantukan?(d(),i("div",Vl,[t[110]||(t[110]=a("label",null,"Keterangan Diperbantukan",-1)),a("p",null,n(((mt=V(s.value))==null?void 0:mt.keterangan_diperbantukan)||"-"),1)])):w("",!0)])]),a("div",Ul,[t[113]||(t[113]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-money-bill-wave"}),a("span",null,"Tunjangan")],-1)),a("div",Kl,[a("div",Nl,[t[112]||(t[112]=a("label",null,"Tunjangan Jabatan",-1)),a("p",null,n((ft=V(s.value))!=null&&ft.tunjangan_jabatan?"Rp "+Number((_t=V(s.value))==null?void 0:_t.tunjangan_jabatan).toLocaleString("id-ID"):"-"),1)])])]),a("div",Sl,[t[115]||(t[115]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-file-contract"}),a("span",null,"Riwayat Jabatan")],-1)),a("div",Il,[((kt=(bt=s.value.profile)==null?void 0:bt.riwayat_jabatan)==null?void 0:kt.length)>0?(d(),i("div",El,[a("table",Jl,[t[114]||(t[114]=a("thead",null,[a("tr",null,[a("th",null,"Jabatan"),a("th",null,"Unit Kerja"),a("th",null,"No SK / Tgl SK"),a("th",null,"TMT"),a("th",null,"Status")])],-1)),a("tbody",null,[(d(!0),i(h,null,P(s.value.profile.riwayat_jabatan,U=>{var wt,ct;return d(),i("tr",{key:U.id},[a("td",null,[a("div",Ll,n(((wt=U.jabatan)==null?void 0:wt.nama_jabatan)||"-"),1),a("div",$l,n(U.bidang_studi||""),1)]),a("td",null,n(((ct=U.unit_kerja)==null?void 0:ct.nama_unit)||"-"),1),a("td",null,[a("div",null,n(U.no_sk||"-"),1),a("div",Al,n(I(U.tanggal_sk)),1)]),a("td",null,n(I(U.tmt_jabatan)),1),a("td",null,[a("span",{class:da(["badge",U.is_aktif?"badge-green":"badge-gray"])},n(U.is_aktif?"Aktif":"Tidak Aktif"),3)])])}),128))])])])):(d(),i("div",Rl," Belum ada riwayat jabatan. "))])]),a("div",Fl,[t[118]||(t[118]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-info-circle"}),a("span",null,"Informasi Data")],-1)),a("div",Gl,[a("div",Bl,[t[116]||(t[116]=a("label",null,"Dibuat Pada",-1)),a("p",null,n(Ka(s.value.created_at)),1)]),a("div",zl,[t[117]||(t[117]=a("label",null,"Terakhir Diubah",-1)),a("p",null,n(Ka(s.value.updated_at)),1)])])])]),a("div",Ol,[a("button",{class:"btn btn-secondary",onClick:fa},"Tutup"),a("button",{class:"btn btn-primary",onClick:t[9]||(t[9]=U=>Ca(s.value))},"Edit Data")])])])):w("",!0)]}),_:1}),K(ua,{name:"modal-fade"},{default:ra(()=>[Q.value?(d(),i("div",{key:0,class:"modal-backdrop",onClick:ta},[a("div",{class:"modal-card modal-lg",onClick:t[44]||(t[44]=ea(()=>{},["stop"]))},[a("div",ql,[a("h2",null,n(X.value?"Edit Pegawai":"Tambah Pegawai Baru"),1),a("button",{class:"btn-close",onClick:ta},[...t[119]||(t[119]=[a("i",{class:"fas fa-times"},null,-1)])])]),a("div",Hl,[a("form",{onSubmit:ea(Lt,["prevent"]),class:"modern-form"},[X.value?w("",!0):(d(),i("div",Wl,[...t[120]||(t[120]=[a("i",{class:"fas fa-info-circle"},null,-1),a("p",null,[a("strong",null,"Info Login Otomatis:"),a("br"),k(" Username: Tanpa Spasi (NIP / NIK / Nomor Identitas)"),a("br"),k(" Password Default: Tanggal Lahir (YYYYMMDD) ")],-1)])])),t[177]||(t[177]=a("div",{class:"form-section-title"},"Identitas Pribadi",-1)),a("div",Ql,[a("div",Xl,[t[121]||(t[121]=a("label",{for:"nip"},[k("NIP / NIK / Nomor Identitas "),a("span",{class:"text-danger"},"*")],-1)),v(a("input",{type:"text",id:"nip","onUpdate:modelValue":t[11]||(t[11]=e=>o.value.nip=e),required:"",placeholder:"NIP / NIK / Nomor Identitas"},null,512),[[y,o.value.nip]])])]),a("div",Zl,[a("div",an,[t[122]||(t[122]=a("label",{for:"gelar_depan_1"},"Gelar Depan 1",-1)),v(a("input",{type:"text",id:"gelar_depan_1","onUpdate:modelValue":t[12]||(t[12]=e=>o.value.gelar_depan_1=e),placeholder:"Contoh: Dr."},null,512),[[y,o.value.gelar_depan_1]])]),a("div",tn,[t[123]||(t[123]=a("label",{for:"gelar_depan_2"},"Gelar Depan 2",-1)),v(a("input",{type:"text",id:"gelar_depan_2","onUpdate:modelValue":t[13]||(t[13]=e=>o.value.gelar_depan_2=e),placeholder:"Contoh: H."},null,512),[[y,o.value.gelar_depan_2]])]),a("div",en,[t[124]||(t[124]=a("label",{for:"gelar_belakang"},"Gelar Belakang",-1)),v(a("input",{type:"text",id:"gelar_belakang","onUpdate:modelValue":t[14]||(t[14]=e=>o.value.gelar_belakang=e),placeholder:"Contoh: S.Kom"},null,512),[[y,o.value.gelar_belakang]])])]),a("div",ln,[a("div",nn,[t[125]||(t[125]=a("label",{for:"nama_lengkap"},[k("Nama Lengkap (Tanpa Gelar) "),a("span",{class:"text-danger"},"*")],-1)),v(a("input",{type:"text",id:"nama_lengkap","onUpdate:modelValue":t[15]||(t[15]=e=>o.value.nama_lengkap=e),required:"",placeholder:"Nama Sesuai KTP"},null,512),[[y,o.value.nama_lengkap]])])]),a("div",sn,[a("div",on,[t[126]||(t[126]=a("label",{for:"tempat_lahir"},"Tempat Lahir",-1)),v(a("input",{type:"text",id:"tempat_lahir","onUpdate:modelValue":t[16]||(t[16]=e=>o.value.tempat_lahir=e)},null,512),[[y,o.value.tempat_lahir]])]),a("div",dn,[t[127]||(t[127]=a("label",{for:"tanggal_lahir"},[k("Tanggal Lahir "),a("span",{class:"text-danger"},"*")],-1)),K(u,{modelValue:o.value.tanggal_lahir,"onUpdate:modelValue":t[17]||(t[17]=e=>o.value.tanggal_lahir=e),type:"date",placeholder:"Pilih Tanggal Lahir",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])])]),a("div",rn,[a("div",un,[t[130]||(t[130]=a("label",{for:"jenis_kelamin"},[k("Jenis Kelamin "),a("span",{class:"text-danger"},"*")],-1)),a("div",pn,[v(a("select",{id:"jenis_kelamin","onUpdate:modelValue":t[18]||(t[18]=e=>o.value.jenis_kelamin=e),required:""},[...t[128]||(t[128]=[a("option",{value:""},"Pilih...",-1),a("option",{value:"L"},"Laki-laki",-1),a("option",{value:"P"},"Perempuan",-1)])],512),[[M,o.value.jenis_kelamin]]),t[129]||(t[129]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])]),a("div",gn,[t[133]||(t[133]=a("label",{for:"golongan_darah_id"},"Golongan Darah",-1)),a("div",vn,[v(a("select",{id:"golongan_darah_id","onUpdate:modelValue":t[19]||(t[19]=e=>o.value.golongan_darah_id=e)},[t[131]||(t[131]=a("option",{value:""},"Pilih...",-1)),(d(!0),i(h,null,P(Pa.value,e=>(d(),i("option",{key:e.id,value:e.id},n(e.kode),9,mn))),128))],512),[[M,o.value.golongan_darah_id]]),t[132]||(t[132]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])])]),a("div",fn,[a("div",_n,[t[136]||(t[136]=a("label",{for:"agama_id"},"Agama",-1)),a("div",bn,[v(a("select",{id:"agama_id","onUpdate:modelValue":t[20]||(t[20]=e=>o.value.agama_id=e)},[t[134]||(t[134]=a("option",{value:""},"Pilih...",-1)),(d(!0),i(h,null,P(ya.value,e=>(d(),i("option",{key:e.id,value:e.id},n(e.nama_agama),9,kn))),128))],512),[[M,o.value.agama_id]]),t[135]||(t[135]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])]),a("div",wn,[t[139]||(t[139]=a("label",{for:"status_kawin_id"},"Status Pernikahan",-1)),a("div",cn,[v(a("select",{id:"status_kawin_id","onUpdate:modelValue":t[21]||(t[21]=e=>o.value.status_kawin_id=e)},[t[137]||(t[137]=a("option",{value:""},"Pilih...",-1)),(d(!0),i(h,null,P(ha.value,e=>(d(),i("option",{key:e.id,value:e.id},n(e.status),9,jn))),128))],512),[[M,o.value.status_kawin_id]]),t[138]||(t[138]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])]),a("div",yn,[t[142]||(t[142]=a("label",{for:"pendidikan_id"},"Pendidikan Terakhir",-1)),a("div",xn,[v(a("select",{id:"pendidikan_id","onUpdate:modelValue":t[22]||(t[22]=e=>o.value.pendidikan_id=e)},[t[140]||(t[140]=a("option",{value:""},"Pilih...",-1)),(d(!0),i(h,null,P(xa.value,e=>(d(),i("option",{key:e.id,value:e.id},n(e.nama_jenjang),9,hn))),128))],512),[[M,o.value.pendidikan_id]]),t[141]||(t[141]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])])]),t[178]||(t[178]=a("div",{class:"form-section-title"},"Kontak",-1)),a("div",Pn,[a("div",Dn,[t[143]||(t[143]=a("label",{for:"telepon"},"Nomor Telepon",-1)),v(a("input",{type:"text",id:"telepon","onUpdate:modelValue":t[23]||(t[23]=e=>o.value.telepon=e),placeholder:"08..."},null,512),[[y,o.value.telepon]])]),a("div",Tn,[t[144]||(t[144]=a("label",{for:"email"},"Email",-1)),v(a("input",{type:"email",id:"email","onUpdate:modelValue":t[24]||(t[24]=e=>o.value.email=e),placeholder:"Email pribadi (opsional)"},null,512),[[y,o.value.email]])])]),t[179]||(t[179]=a("div",{class:"form-section-title"},"Status Kepegawaian",-1)),a("div",Mn,[a("div",Cn,[t[147]||(t[147]=a("label",{for:"employment_status_id"},[k("Status Pegawai "),a("span",{class:"text-danger"},"*")],-1)),a("div",Yn,[v(a("select",{id:"employment_status_id","onUpdate:modelValue":t[25]||(t[25]=e=>o.value.status_kepegawaian_id=e),required:""},[t[145]||(t[145]=a("option",{value:""},"Pilih...",-1)),(d(!0),i(h,null,P(ja.value,e=>(d(),i("option",{key:e.id,value:e.id},n(e.nama_status),9,Vn))),128))],512),[[M,o.value.status_kepegawaian_id]]),t[146]||(t[146]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])]),a("div",Un,[t[150]||(t[150]=a("label",{for:"jenis_pegawai_id"},"Jenis Pegawai",-1)),a("div",Kn,[v(a("select",{id:"jenis_pegawai_id","onUpdate:modelValue":t[26]||(t[26]=e=>o.value.jenis_pegawai_id=e)},[t[148]||(t[148]=a("option",{value:""},"Pilih...",-1)),(d(!0),i(h,null,P(Da.value,e=>(d(),i("option",{key:e.id,value:e.id},n(e.nama),9,Nn))),128))],512),[[M,o.value.jenis_pegawai_id]]),t[149]||(t[149]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])]),a("div",Sn,[t[153]||(t[153]=a("label",{for:"unit_kerja_id"},"Unit Kerja",-1)),a("div",In,[v(a("select",{id:"unit_kerja_id","onUpdate:modelValue":t[27]||(t[27]=e=>o.value.unit_kerja_id=e)},[t[151]||(t[151]=a("option",{value:""},"Pilih...",-1)),(d(!0),i(h,null,P(na.value,e=>(d(),i("option",{key:e.id,value:e.id},n(e.nama_unit),9,En))),128))],512),[[M,o.value.unit_kerja_id]]),t[152]||(t[152]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])])]),t[180]||(t[180]=a("div",{class:"form-section-title"},"Jabatan & Kepangkatan",-1)),a("div",Jn,[a("div",Ln,[t[156]||(t[156]=a("label",{for:"jabatan_id"},[k("Jabatan "),a("span",{class:"text-danger"},"*")],-1)),a("div",$n,[v(a("select",{id:"jabatan_id","onUpdate:modelValue":t[28]||(t[28]=e=>o.value.jabatan_id=e),onChange:Et,required:""},[t[154]||(t[154]=a("option",{value:""},"Pilih...",-1)),(d(!0),i(h,null,P(Z.value,e=>(d(),i("option",{key:e.id,value:e.id},n(e.nama_jabatan),9,An))),128))],544),[[M,o.value.jabatan_id]]),t[155]||(t[155]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])]),a("div",Rn,[t[159]||(t[159]=a("label",{for:"pangkat_id"},"Pangkat/Golongan",-1)),a("div",Fn,[v(a("select",{id:"pangkat_id","onUpdate:modelValue":t[29]||(t[29]=e=>o.value.pangkat_id=e),onChange:t[30]||(t[30]=e=>{var r;return o.value.golongan_id=((r=ma.value.find(g=>g.id===o.value.pangkat_id))==null?void 0:r.golongan_id)||""})},[t[157]||(t[157]=a("option",{value:""},"Pilih...",-1)),(d(!0),i(h,null,P(ma.value,e=>(d(),i("option",{key:e.id,value:e.id},n(e.nama_pangkat)+" ("+n(e.nama_golongan)+")",9,Gn))),128))],544),[[M,o.value.pangkat_id]]),t[158]||(t[158]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])])]),a("div",Bn,[a("div",zn,[t[160]||(t[160]=a("label",{for:"no_sk_jabatan"},"Nomor SK Jabatan",-1)),v(a("input",{type:"text",id:"no_sk_jabatan","onUpdate:modelValue":t[31]||(t[31]=e=>o.value.no_sk_jabatan=e),placeholder:"Nomor SK"},null,512),[[y,o.value.no_sk_jabatan]])]),a("div",On,[t[161]||(t[161]=a("label",{for:"tanggal_sk_jabatan"},"Tanggal SK Jabatan",-1)),K(u,{modelValue:o.value.tanggal_sk_jabatan,"onUpdate:modelValue":t[32]||(t[32]=e=>o.value.tanggal_sk_jabatan=e),type:"date",placeholder:"Pilih Tanggal",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),a("div",qn,[t[162]||(t[162]=a("label",{for:"tmt_jabatan"},"TMT Jabatan",-1)),K(u,{modelValue:o.value.tmt_jabatan,"onUpdate:modelValue":t[33]||(t[33]=e=>o.value.tmt_jabatan=e),type:"date",placeholder:"Pilih Tanggal",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])])]),a("div",Hn,[a("div",Wn,[t[165]||(t[165]=a("label",null,"Tugas Tambahan",-1)),a("div",Qn,[v(a("select",{"onUpdate:modelValue":t[34]||(t[34]=e=>o.value.tugas_tambahan_id=e),class:"form-select"},[t[163]||(t[163]=a("option",{value:""},"Pilih Tugas Tambahan",-1)),(d(!0),i(h,null,P(Ta.value,e=>(d(),i("option",{key:e.id,value:e.id},n(e.nama_tugas),9,Xn))),128))],512),[[M,o.value.tugas_tambahan_id]]),t[164]||(t[164]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])]),a("div",Zn,[t[166]||(t[166]=a("label",null,"TMT Tugas Tambahan",-1)),K(u,{modelValue:o.value.tmt_tugas_tambahan,"onUpdate:modelValue":t[35]||(t[35]=e=>o.value.tmt_tugas_tambahan=e),type:"date",placeholder:"Pilih Tanggal",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),a("div",as,[t[167]||(t[167]=a("label",null,"Keterangan Tugas",-1)),v(a("input",{type:"text","onUpdate:modelValue":t[36]||(t[36]=e=>o.value.keterangan_tugas=e),class:"form-input",placeholder:"Keterangan (Opsional)"},null,512),[[y,o.value.keterangan_tugas]])])]),t[181]||(t[181]=a("div",{class:"form-section-title"},"Masa Kerja",-1)),a("div",ts,[a("div",es,[t[168]||(t[168]=a("label",{for:"tmt_cpns"},"TMT CPNS",-1)),K(u,{modelValue:o.value.tmt_cpns,"onUpdate:modelValue":t[37]||(t[37]=e=>o.value.tmt_cpns=e),type:"date",placeholder:"Pilih Tanggal",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),a("div",ls,[t[169]||(t[169]=a("label",{for:"tmt_pns"},"TMT PNS",-1)),K(u,{modelValue:o.value.tmt_pns,"onUpdate:modelValue":t[38]||(t[38]=e=>o.value.tmt_pns=e),type:"date",placeholder:"Pilih Tanggal",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])])]),t[182]||(t[182]=a("div",{class:"form-section-title"},"Detail Akademik",-1)),a("div",ns,[a("div",ss,[t[170]||(t[170]=a("label",{for:"bidang_studi"},"Bidang Studi",-1)),v(a("input",{type:"text",id:"bidang_studi","onUpdate:modelValue":t[39]||(t[39]=e=>o.value.bidang_studi=e),placeholder:"Contoh: Pendidikan Agama Islam"},null,512),[[y,o.value.bidang_studi]])]),a("div",os,[t[171]||(t[171]=a("label",{for:"keterangan_jabatan"},"Keterangan Jabatan",-1)),v(a("input",{type:"text",id:"keterangan_jabatan","onUpdate:modelValue":t[40]||(t[40]=e=>o.value.keterangan_jabatan=e),placeholder:"Contoh: Dosen Tetap"},null,512),[[y,o.value.keterangan_jabatan]])]),a("div",is,[t[174]||(t[174]=a("label",{for:"is_diperbantukan"},"Diperbantukan",-1)),a("div",ds,[v(a("select",{id:"is_diperbantukan","onUpdate:modelValue":t[41]||(t[41]=e=>o.value.is_diperbantukan=e)},[...t[172]||(t[172]=[a("option",{value:!1},"Tidak",-1),a("option",{value:!0},"Ya",-1)])],512),[[M,o.value.is_diperbantukan]]),t[173]||(t[173]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])])]),o.value.is_diperbantukan?(d(),i("div",rs,[a("div",us,[t[175]||(t[175]=a("label",{for:"keterangan_diperbantukan"},"Keterangan Diperbantukan",-1)),v(a("input",{type:"text",id:"keterangan_diperbantukan","onUpdate:modelValue":t[42]||(t[42]=e=>o.value.keterangan_diperbantukan=e),placeholder:"Keterangan..."},null,512),[[y,o.value.keterangan_diperbantukan]])])])):w("",!0),t[183]||(t[183]=a("div",{class:"form-section-title"},"Tunjangan",-1)),a("div",ps,[a("div",gs,[t[176]||(t[176]=a("label",{for:"tunjangan_jabatan"},"Tunjangan Jabatan (Rp)",-1)),v(a("input",{type:"number",id:"tunjangan_jabatan","onUpdate:modelValue":t[43]||(t[43]=e=>o.value.tunjangan_jabatan=e),placeholder:"0"},null,512),[[y,o.value.tunjangan_jabatan]])])]),a("div",vs,[a("button",{type:"button",class:"btn btn-text",onClick:ta},"Batal"),a("button",{type:"submit",class:"btn btn-primary",disabled:F.value},[F.value?(d(),i("i",fs)):w("",!0),k(" "+n(F.value?"Menyimpan...":"Simpan Data"),1)],8,ms)])],32)])])])):w("",!0)]),_:1}),K(ua,{name:"modal-fade"},{default:ra(()=>{var e,r,g,p,m,_;return[pa.value?(d(),i("div",{key:0,class:"modal-backdrop",onClick:_a},[a("div",{class:"modal-card modal-sm text-center",onClick:t[46]||(t[46]=ea(()=>{},["stop"]))},[a("div",_s,[t[190]||(t[190]=a("div",{class:"warning-icon"},[a("i",{class:"fas fa-trash"})],-1)),t[191]||(t[191]=a("h3",null,"Hapus Pegawai?",-1)),a("p",bs,[t[184]||(t[184]=k(" Anda akan menghapus pegawai ",-1)),a("strong",null,n(((r=(e=s.value)==null?void 0:e.profile)==null?void 0:r.nama_lengkap)||"Tidak Ada Nama"),1),t[185]||(t[185]=k(". Tindakan ini ",-1)),t[186]||(t[186]=a("strong",null,"tidak dapat dibatalkan",-1)),t[187]||(t[187]=k(". ",-1))]),a("div",ks,[a("label",ws,[t[188]||(t[188]=k("Ketik ",-1)),a("strong",null,n(((p=(g=s.value)==null?void 0:g.profile)==null?void 0:p.nip)||"KONFIRMASI"),1),t[189]||(t[189]=k(" untuk melanjutkan:",-1))]),v(a("input",{type:"text","onUpdate:modelValue":t[45]||(t[45]=b=>aa.value=b),class:"form-control text-center",placeholder:"Ketik disini...",style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"6px"}},null,512),[[y,aa.value]])]),a("div",cs,[a("button",{class:"btn btn-secondary",onClick:_a},"Batal"),a("button",{class:"btn btn-danger",onClick:Mt,disabled:la.value||aa.value!==(((_=(m=s.value)==null?void 0:m.profile)==null?void 0:_.nip)||"KONFIRMASI")},n(la.value?"Menghapus...":"Ya, Hapus"),9,js)])])])])):w("",!0)]}),_:1})]),K(ua,{name:"modal-fade"},{default:ra(()=>{var e,r,g,p,m;return[ga.value?(d(),i("div",{key:0,class:"modal-backdrop",onClick:sa},[a("div",{class:"modal-card modal-sm",onClick:t[49]||(t[49]=ea(()=>{},["stop"]))},[a("div",{class:"modal-header"},[t[193]||(t[193]=a("h2",null,"Manajemen Password",-1)),a("button",{class:"btn-close",onClick:sa},[...t[192]||(t[192]=[a("i",{class:"fas fa-times"},null,-1)])])]),a("div",ys,[a("div",xs,[t[194]||(t[194]=a("div",{class:"state-icon bg-blue",style:{width:"50px",height:"50px","font-size":"20px"}},[a("i",{class:"fas fa-key"})],-1)),a("h3",hs,n((r=(e=s.value)==null?void 0:e.profile)==null?void 0:r.nama_lengkap),1),a("p",Ps,"Username: "+n(((m=(p=(g=s.value)==null?void 0:g.profile)==null?void 0:p.user)==null?void 0:m.username)||"-"),1)]),a("div",Ds,[a("div",Ts,[t[199]||(t[199]=a("h4",{style:{margin:"0 0 10px","font-size":"14px",color:"#374151"}},"Opsi 1: Reset ke Default",-1)),a("p",Ms,[t[195]||(t[195]=k(" Password akan direset menjadi tanggal lahir (YYYYMMDD).",-1)),t[196]||(t[196]=a("br",null,null,-1)),t[197]||(t[197]=k(" Contoh: ",-1)),a("strong",null,n(Vt(s.value)),1)]),a("button",{class:"btn btn-secondary fluid",onClick:Ut,disabled:O.value},[...t[198]||(t[198]=[a("i",{class:"fas fa-sync-alt"},null,-1),k(" Reset Password Default ",-1)])],8,Cs)]),a("div",Ys,[t[201]||(t[201]=a("h4",{style:{margin:"0 0 10px","font-size":"14px",color:"#374151"}},"Opsi 2: Ubah Password Manual",-1)),a("div",Vs,[v(a("input",{type:"password","onUpdate:modelValue":t[47]||(t[47]=_=>C.value=_),placeholder:"Masukkan password baru...",class:"fluid",style:{width:"100%","box-sizing":"border-box","margin-bottom":"8px"}},null,512),[[y,C.value]]),v(a("input",{type:"password","onUpdate:modelValue":t[48]||(t[48]=_=>G.value=_),placeholder:"Konfirmasi password baru...",class:"fluid",style:{width:"100%","box-sizing":"border-box"}},null,512),[[y,G.value]])]),a("button",{class:"btn btn-primary fluid",onClick:Kt,disabled:!Ya.value||O.value},[...t[200]||(t[200]=[a("i",{class:"fas fa-save"},null,-1),k(" Simpan Password Baru ",-1)])],8,Us),a("div",Ks,[C.value&&C.value.length<6?(d(),i("p",Ns," Minimal 6 karakter. ")):w("",!0),C.value&&G.value&&C.value!==G.value?(d(),i("p",Ss," Password tidak cocok. ")):w("",!0)])])])])])])):w("",!0)]}),_:1})],64)}}},$s=At(Is,[["__scopeId","data-v-4e70342b"]]);export{$s as default};
