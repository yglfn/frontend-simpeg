import{_ as ke,a as we,b as r,e as a,n as ba,t as n,h as g,v as b,f as Xa,G as ce,H as D,F as h,B as T,g as w,k as m,x as sa,y as oa,T as ia,C as c,m as f,p as ka,o as u,w as Z,E as x}from"./index-DpJd74yk.js";import{l as je}from"./lodash-s8TUAfjd.js";const ye={class:"app-container"},xe={class:"content-wrapper"},Pe={class:"modern-header"},he={class:"header-actions"},Ce=["disabled"],De={class:"main-card"},Te={class:"toolbar"},Ue={class:"search-wrapper"},Me={class:"filter-wrapper"},Ve={class:"select-wrapper"},Ne=["value"],Se={class:"select-wrapper"},Ke=["value"],Ie={key:0,class:"active-filters-bar"},Ee={key:0,class:"chip"},$e={key:1,class:"chip"},Le={key:2,class:"chip"},Ge={class:"table-wrapper"},Je={key:0,class:"loading-overlay"},Re={key:1,class:"state-container error"},Fe={key:2,class:"modern-table"},Ae={key:0},Be={class:"text-muted"},Ye={class:"code-badge"},ze={class:"cell-primary"},Oe={class:"font-bold text-dark"},qe={class:"email-text"},He={key:0,class:"badge badge-indigo"},We={key:1,class:"text-muted"},Qe={key:0,class:"badge badge-blue"},Xe={key:1,class:"text-muted"},Ze={class:"date-cell"},at={class:"date-main"},et={class:"date-sub"},tt={class:"action-group"},lt=["onClick"],nt=["onClick"],st=["onClick"],ot=["onClick"],it={key:1,class:"card-footer"},dt={class:"footer-info"},rt={key:0,class:"pagination-modern"},ut=["disabled"],pt=["onClick"],vt=["disabled"],gt={class:"modal-header"},ft={class:"header-title"},_t={class:"id-badge"},mt={class:"modal-body"},bt={class:"detail-header-block"},kt={class:"detail-titles"},wt={class:"badge badge-green"},ct={class:"detail-section"},jt={class:"detail-grid"},yt={class:"info-box"},xt={class:"info-box"},Pt={class:"info-box"},ht={class:"info-box"},Ct={class:"info-box"},Dt={class:"info-box"},Tt={class:"info-box"},Ut={class:"info-box"},Mt={class:"info-box"},Vt={class:"info-box"},Nt={class:"info-box"},St={class:"info-box"},Kt={class:"info-box"},It={class:"info-box"},Et={class:"detail-section"},$t={class:"detail-grid"},Lt={class:"info-box"},Gt={class:"info-box"},Jt={class:"info-box"},Rt={class:"info-box"},Ft={class:"info-box"},At={class:"info-box"},Bt={class:"info-box"},Yt={class:"info-box"},zt={key:0,class:"detail-section"},Ot={class:"detail-grid"},qt={class:"info-box"},Ht={class:"info-box"},Wt={class:"info-box"},Qt={class:"info-box"},Xt={class:"info-box"},Zt={class:"info-box"},al={class:"info-box"},el={class:"detail-section"},tl={class:"detail-grid"},ll={class:"info-box"},nl={class:"info-box"},sl={class:"modal-footer"},ol={class:"modal-header"},il={class:"modal-body"},dl={key:0,class:"info-alert"},rl={class:"form-row"},ul={class:"form-group half"},pl={class:"form-group half"},vl={class:"form-row three-cols"},gl={class:"form-group"},fl={class:"form-group"},_l={class:"form-group"},ml={class:"form-row"},bl={class:"form-group half"},kl={class:"form-group half"},wl={class:"form-row"},cl={class:"form-group half"},jl={class:"select-wrapper fluid"},yl={class:"form-group half"},xl={class:"select-wrapper fluid"},Pl=["value"],hl={class:"form-row"},Cl={class:"form-group half"},Dl={class:"select-wrapper fluid"},Tl=["value"],Ul={class:"form-group half"},Ml={class:"select-wrapper fluid"},Vl=["value"],Nl={class:"form-row"},Sl={class:"form-group fluid"},Kl={class:"select-wrapper fluid"},Il=["value"],El={class:"form-row"},$l={class:"form-group half"},Ll={class:"form-group half"},Gl={class:"form-row"},Jl={class:"form-group half"},Rl={class:"select-wrapper fluid"},Fl=["value"],Al={class:"form-group half"},Bl={class:"select-wrapper fluid"},Yl=["value"],zl={class:"form-row"},Ol={class:"form-group half"},ql={class:"select-wrapper fluid"},Hl=["value"],Wl={class:"form-row"},Ql={class:"form-group half"},Xl={class:"select-wrapper fluid"},Zl=["value"],an={class:"form-group half"},en={class:"select-wrapper fluid"},tn=["value"],ln={class:"form-row"},nn={class:"form-group half"},sn={class:"form-group half"},on={class:"form-row three-cols"},dn={class:"form-group"},rn={class:"form-group"},un={class:"form-group"},pn={class:"form-row"},vn={class:"form-group half"},gn={class:"form-group half"},fn={class:"form-row three-cols"},_n={class:"form-group"},mn={class:"form-group"},bn={class:"select-wrapper fluid"},kn={key:0,class:"form-group"},wn={class:"form-actions-right"},cn=["disabled"],jn={key:0,class:"fas fa-spinner fa-spin"},yn={class:"modal-body"},xn={class:"modal-desc"},Pn={class:"form-group",style:{margin:"15px 0"}},hn={class:"d-block mb-2 text-muted small"},Cn={class:"modal-actions-center"},Dn=["disabled"],Tn={class:"modal-body"},Un={class:"state-container",style:{padding:"20px 0"}},Mn={style:{"font-size":"16px","margin-bottom":"5px"}},Vn={style:{"font-size":"12px","margin-bottom":"20px"}},Nn={class:"password-actions"},Sn={class:"option-card",style:{"margin-bottom":"20px",padding:"15px",background:"#f9fafb","border-radius":"8px",border:"1px solid #e5e7eb"}},Kn={style:{"font-size":"12px",color:"#6b7280","margin-bottom":"12px"}},In=["disabled"],En={class:"option-card",style:{padding:"15px",background:"#fff","border-radius":"8px",border:"1px solid #e5e7eb"}},$n={class:"form-group",style:{"margin-bottom":"10px"}},Ln=["disabled"],Gn={style:{"margin-top":"5px"}},Jn={key:0,style:{"font-size":"11px",color:"#ef4444",margin:"0"}},Rn={key:1,style:{"font-size":"11px",color:"#ef4444",margin:"0"}},Fn={__name:"DataPegawai",setup(An){const V=f(!1),z=f(""),I=f(""),E=f(""),$=f(""),A=f(!1),O=f(!1),da=f(!1),ra=f(!1),q=f(!1),J=f(!1),B=f(!1),aa=f(!1),ua=f(!1),U=f(""),R=f(""),F=f([]),o=f(null),H=f([]),ea=f([]),pa=f([]),wa=f([]),ca=f([]),ja=f([]),ya=f([]),xa=f([]),Pa=f([]),k=f({currentPage:1,perPage:10,total:0,lastPage:1,from:1,to:10}),s=f({nip:"",nama_lengkap:"",gelar_depan_1:"",gelar_depan_2:"",gelar_belakang:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"",agama_id:"",pendidikan_id:"",status_kawin_id:"",alamat_1_id:null,alamat_2_id:null,kode_pos:"",telepon:"",golongan_darah_id:"",bank_id:"",tmt_cpns:"",tmt_pns:"",jenis_pegawai_id:"",status_kepegawaian_id:"",jabatan_id:"",unit_kerja_id:"",pangkat_id:"",golongan_id:"",tmt_jabatan:"",no_sk_jabatan:"",tanggal_sk_jabatan:""}),ha=ka(()=>E.value||$.value||I.value),Za=ka(()=>{const l=[],{currentPage:e,lastPage:t}=k.value,i=1;for(let d=Math.max(2,e-i);d<=Math.min(t-1,e+i);d++)l.push(d);return e-i>2&&l.unshift("..."),e+i<t-1&&l.push("..."),l.unshift(1),t>1&&l.push(t),l.filter((d,v,p)=>p.indexOf(d)===v)}),ae=l=>{const e=H.value.find(t=>t.id==l);return e?e.nama_jabatan:"..."},ee=l=>{const e=ea.value.find(t=>t.id==l);return e?e.nama_unit:"..."},te=l=>l?l.toLowerCase().includes("pns")?"badge-green":l.toLowerCase().includes("pppk")?"badge-blue":l.toLowerCase().includes("honorer")?"badge-orange":"badge-gray":"badge-gray",le=async()=>{var l,e,t,i,d;try{J.value=!0;const v={...s.value};for(const p in v)v[p]===""&&(v[p]=null);await c.post("/super-admin/profile-pegawai",v),x.success("Pegawai berhasil ditambahkan"),Q(),N()}catch(v){if(console.error("Create Error",v),((l=v.response)==null?void 0:l.status)===422&&((t=(e=v.response)==null?void 0:e.data)!=null&&t.errors)){const p=v.response.data.errors,_=Object.values(p)[0][0];x.error(_)}else x.error(((d=(i=v.response)==null?void 0:i.data)==null?void 0:d.message)||"Gagal menambah pegawai")}finally{J.value=!1}},ne=async()=>{var l,e,t,i,d,v,p,_,j,y,L,G,K;try{J.value=!0;const C={...s.value};for(const M in C)C[M]===""&&(C[M]=null);if(await c.put(`/super-admin/profile-pegawai/${o.value.profile_id}`,C),x.success("Pegawai berhasil diperbarui"),Q(),await N(),A.value&&o.value)try{const M=await c.get(`/super-admin/profile-pegawai/${o.value.profile_id}`);if((l=M.data)!=null&&l.data){const P=M.data.data,na=((e=P.pegawai)==null?void 0:e.updated_at)||P.updated_at;o.value={...o.value,profile:P,updated_at:na,jenis_pegawai:(t=P.pegawai)==null?void 0:t.jenis_pegawai,status_kepegawaian:(i=P.pegawai)==null?void 0:i.status_kepegawaian,golongan:(d=P.pegawai)==null?void 0:d.golongan,pangkat:(v=P.pegawai)==null?void 0:v.pangkat,jabatan:(p=P.pegawai)==null?void 0:p.jabatan,unit_kerja:(_=P.pegawai)==null?void 0:_.unit_kerja}}}catch(M){console.error("Failed to refresh detail",M)}}catch(C){if(console.error("Update Error",C),((j=C.response)==null?void 0:j.status)===422&&((L=(y=C.response)==null?void 0:y.data)!=null&&L.errors)){const M=C.response.data.errors,P=Object.values(M)[0][0];x.error(P)}else x.error(((K=(G=C.response)==null?void 0:G.data)==null?void 0:K.message)||"Gagal memperbarui pegawai")}finally{J.value=!1}},se=async()=>{try{aa.value=!0,await c.delete(`/super-admin/profile-pegawai/${o.value.profile_id}`),x.success("Pegawai berhasil dihapus"),ga(),N()}catch{x.error("Gagal menghapus pegawai")}finally{aa.value=!1}},Ca=async l=>{var e;try{q.value=!0,O.value=!0;const i=(await c.get(`/super-admin/profile-pegawai/${l.profile_id}`)).data.data,d=i.pegawai,v=i.riwayat_jabatan;o.value={...l,profile:i},ua.value||await fa(),s.value={nip:i.nip||"",nama_lengkap:i.nama_lengkap||"",email:((e=i.user)==null?void 0:e.email)||"",gelar_depan_1:i.gelar_depan_1||"",gelar_depan_2:i.gelar_depan_2||"",gelar_belakang:i.gelar_belakang||"",tempat_lahir:i.tempat_lahir||"",tanggal_lahir:X(i.tanggal_lahir),jenis_kelamin:i.jenis_kelamin||"",agama_id:i.agama_id||"",pendidikan_id:i.pendidikan_id||"",status_kawin_id:i.status_kawin_id||"",alamat_1_id:i.alamat_1_id||"",alamat_2_id:i.alamat_2_id||"",kode_pos:i.kode_pos||"",telepon:i.telepon||"",golongan_darah_id:i.golongan_darah_id||"",bank_id:i.bank_id||"",tmt_cpns:X(i.tmt_cpns),tmt_pns:X(i.tmt_pns),jenis_pegawai_id:(d==null?void 0:d.jenis_pegawai_id)||"",status_kepegawaian_id:(d==null?void 0:d.status_kepegawaian_id)||"",jabatan_id:(d==null?void 0:d.jabatan_id)||"",unit_kerja_id:(d==null?void 0:d.unit_kerja_id)||"",pangkat_id:(d==null?void 0:d.pangkat_id)||"",golongan_id:(d==null?void 0:d.golongan_id)||"",...(()=>{const p=(v==null?void 0:v.find(_=>_.is_aktif))||(v==null?void 0:v[v.length-1]);return{no_sk_jabatan:(p==null?void 0:p.no_sk)||"",tanggal_sk_jabatan:X(p==null?void 0:p.tanggal_sk),tmt_jabatan:X(p==null?void 0:p.tmt_jabatan),bidang_studi:(p==null?void 0:p.bidang_studi)||"",keterangan_jabatan:(p==null?void 0:p.keterangan_jabatan)||"",is_diperbantukan:(p==null?void 0:p.is_diperbantukan)||!1,keterangan_diperbantukan:(p==null?void 0:p.keterangan_diperbantukan)||"",tunjangan_jabatan:(p==null?void 0:p.tunjangan_jabatan)||""}})()}}catch(t){console.error("Error fetching full detail for edit:",t),x.error("Gagal memuat detail data untuk edit"),O.value=!1}},oe=()=>{s.value={nip:"",nama_lengkap:"",gelar_depan_1:"",gelar_depan_2:"",gelar_belakang:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"",agama_id:"",pendidikan_id:"",status_kawin_id:"",alamat_1_id:null,alamat_2_id:null,kode_pos:"",telepon:"",golongan_darah_id:"",bank_id:"",tmt_cpns:"",tmt_pns:"",jenis_pegawai_id:"",status_kepegawaian_id:"",jabatan_id:"",unit_kerja_id:"",pangkat_id:"",golongan_id:"",tmt_jabatan:"",no_sk_jabatan:"",tanggal_sk_jabatan:"",bidang_studi:"",keterangan_jabatan:"",is_diperbantukan:!1,keterangan_diperbantukan:"",tunjangan_jabatan:""}},ie=async l=>{var e,t,i;if(!((t=(e=l.profile)==null?void 0:e.user)!=null&&t.id)){x.warning("Pegawai ini belum memiliki akun user.");return}try{const d=await c.get(`/super-admin/profile-pegawai/${l.profile_id}`);(i=d.data)!=null&&i.data?o.value={...l,profile:d.data.data}:o.value=l}catch(d){console.error("Error fetching profile for password reset:",d),o.value=l}U.value="",R.value="",ra.value=!0},ta=()=>{ra.value=!1,U.value="",R.value="",o.value=null},de=l=>{var e;return(e=l==null?void 0:l.profile)!=null&&e.tanggal_lahir?l.profile.tanggal_lahir.replace(/-/g,""):"YYYYMMDD"},Da=ka(()=>U.value&&U.value.length>=6&&U.value===R.value),re=async()=>{var e,t;if(!((t=(e=o.value)==null?void 0:e.profile)!=null&&t.tanggal_lahir)){x.error("Tanggal lahir tidak tersedia, tidak bisa reset default.");return}const l=o.value.profile.tanggal_lahir.replace(/-/g,"");try{B.value=!0,await c.post(`/super-admin/users/${o.value.profile.user.id}/reset-password`,{new_password:l}),x.success(`Password berhasil direset menjadi: ${l}`),ta()}catch(i){console.error("Reset Password Error",i),x.error("Gagal mereset password.")}finally{B.value=!1}},ue=async()=>{if(Da.value)try{B.value=!0,await c.post(`/super-admin/users/${o.value.profile.user.id}/reset-password`,{new_password:U.value}),x.success("Password berhasil diubah."),ta()}catch(l){console.error("Change Password Error",l),x.error("Gagal mengubah password.")}finally{B.value=!1}},pe=async()=>{oe(),q.value=!1,O.value=!0,ua.value||await fa()},ve=async l=>{var e,t,i,d,v,p,_;try{V.value=!0;const j=await c.get(`/super-admin/profile-pegawai/${l.profile_id}`);if((e=j.data)!=null&&e.data){const y=j.data.data;o.value={...l,profile:y,jenis_pegawai:(t=y.pegawai)==null?void 0:t.jenis_pegawai,status_kepegawaian:(i=y.pegawai)==null?void 0:i.status_kepegawaian,golongan:(d=y.pegawai)==null?void 0:d.golongan,pangkat:(v=y.pegawai)==null?void 0:v.pangkat,jabatan:(p=y.pegawai)==null?void 0:p.jabatan,unit_kerja:(_=y.pegawai)==null?void 0:_.unit_kerja}}else o.value=l;A.value=!0}catch(j){console.error("Error loading detail:",j),o.value=l,A.value=!0}finally{V.value=!1}},W=f(""),ge=l=>{o.value=l,W.value="",da.value=!0},va=()=>{A.value=!1,setTimeout(()=>{o.value=null},300)},Q=()=>{O.value=!1,A.value||(o.value=null)},ga=()=>{da.value=!1,W.value="",o.value=null},fa=async()=>{try{const[l,e,t,i,d,v,p,_,j]=await Promise.all([c.get("/super-admin/jabatan"),c.get("/super-admin/unit-kerja"),c.get("/super-admin/reference/pangkat"),c.get("/super-admin/reference/status-kepegawaian"),c.get("/super-admin/reference/agama"),c.get("/super-admin/reference/pendidikan"),c.get("/super-admin/reference/status-kawin"),c.get("/super-admin/reference/golongan-darah"),c.get("/super-admin/reference/jenis-pegawai")]);H.value=l.data.data,ea.value=e.data.data,pa.value=t.data.data,wa.value=i.data.data,ca.value=d.data.data,ja.value=v.data.data,ya.value=p.data.data,xa.value=_.data.data,Pa.value=j.data.data,ua.value=!0}catch(l){console.error("Error fetching references:",l)}},N=async()=>{try{V.value=!0,z.value="";const l={page:k.value.currentPage,per_page:k.value.perPage,search:I.value,jabatan_id:E.value,unit_kerja_id:$.value},t=(await c.get("/super-admin/profile-pegawai",{params:l})).data;t.data&&(F.value=t.data,k.value={currentPage:1,perPage:F.value.length||10,total:F.value.length||0,lastPage:1,from:1,to:F.value.length||0},t.meta&&(k.value={currentPage:t.meta.current_page||1,perPage:t.meta.per_page||10,total:t.meta.total||0,lastPage:t.meta.last_page||1,from:t.meta.from||1,to:t.meta.to||0}))}catch(l){console.error("Error loading employees:",l),z.value="Gagal memuat data pegawai."}finally{V.value=!1}},fe=()=>{const l=H.value.find(e=>e.id===s.value.jabatan_id);l&&(l.tunjangan_jabatan&&(s.value.tunjangan_jabatan=l.tunjangan_jabatan),s.value.keterangan_jabatan||(s.value.keterangan_jabatan=l.nama_jabatan))},Ta=()=>{I.value="",E.value="",$.value="",k.value.currentPage=1,N()},_a=()=>{k.value.currentPage=1,N()},la=()=>{k.value.currentPage=1,N()},_e=()=>{Ta()},ma=l=>{l!=="..."&&l>=1&&l<=k.value.lastPage&&(k.value.currentPage=l,N())},Ua=je.debounce(()=>{_a()},500),me=async()=>{q.value?await ne():await le()},Y=l=>l?new Date(l).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-",X=l=>{if(!l)return"";const e=new Date(l);if(isNaN(e.getTime()))return"";const t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),d=String(e.getDate()).padStart(2,"0");return`${t}-${i}-${d}`},be=l=>l?new Date(l).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"-",S=l=>{var t;if(!((t=l==null?void 0:l.profile)!=null&&t.riwayat_jabatan))return null;const e=l.profile.riwayat_jabatan;return e.length===0?null:e.find(i=>i.is_aktif)||e[e.length-1]},Ma=l=>l?new Date(l).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return we(()=>{N(),fa()}),(l,e)=>(u(),r(h,null,[a("div",ye,[a("div",xe,[a("header",Pe,[e[48]||(e[48]=a("div",{class:"header-content"},[a("div",{class:"header-icon"},[a("i",{class:"fas fa-user-tie"})]),a("div",{class:"header-text"},[a("h1",null,"Manajemen Data Pegawai"),a("p",null,"Kelola data pegawai, jabatan, dan unit kerja.")])],-1)),a("div",he,[a("button",{class:"btn btn-secondary btn-icon-text",onClick:Ta,disabled:V.value},[a("i",{class:ba(["fas fa-sync-alt",{"fa-spin":V.value}])},null,2),a("span",null,n(V.value?"Memuat...":"Refresh"),1)],8,Ce),a("button",{class:"btn btn-primary btn-icon-text",onClick:pe},[...e[47]||(e[47]=[a("i",{class:"fas fa-plus"},null,-1),a("span",null,"Pegawai Baru",-1)])])])]),a("div",De,[a("div",Te,[a("div",Ue,[e[49]||(e[49]=a("i",{class:"fas fa-search"},null,-1)),g(a("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>I.value=t),placeholder:"Cari NIP, nama, atau email...",onKeyup:ce(_a,["enter"]),onInput:e[1]||(e[1]=(...t)=>Xa(Ua)&&Xa(Ua)(...t))},null,544),[[b,I.value]])]),a("div",Me,[a("div",Ve,[g(a("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>E.value=t),onChange:la},[e[50]||(e[50]=a("option",{value:"",disabled:"",selected:""},"Filter Jabatan",-1)),e[51]||(e[51]=a("option",{value:""},"Semua Jabatan",-1)),(u(!0),r(h,null,T(H.value,t=>(u(),r("option",{key:t.id,value:t.id},n(t.nama_jabatan),9,Ne))),128))],544),[[D,E.value]]),e[52]||(e[52]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))]),a("div",Se,[g(a("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>$.value=t),onChange:la},[e[53]||(e[53]=a("option",{value:"",disabled:"",selected:""},"Filter Unit Kerja",-1)),e[54]||(e[54]=a("option",{value:""},"Semua Unit",-1)),(u(!0),r(h,null,T(ea.value,t=>(u(),r("option",{key:t.id,value:t.id},n(t.nama_unit),9,Ke))),128))],544),[[D,$.value]]),e[55]||(e[55]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))]),ha.value?(u(),r("button",{key:0,class:"btn-icon-only",onClick:_e,title:"Reset Filter"},[...e[56]||(e[56]=[a("i",{class:"fas fa-times"},null,-1)])])):w("",!0)])]),ha.value?(u(),r("div",Ie,[e[57]||(e[57]=a("span",{class:"filter-label"},"Filter Aktif:",-1)),E.value?(u(),r("span",Ee,[m(" Jabatan: "+n(ae(E.value))+" ",1),a("i",{class:"fas fa-times",onClick:e[4]||(e[4]=t=>{E.value="",la()})})])):w("",!0),$.value?(u(),r("span",$e,[m(" Unit: "+n(ee($.value))+" ",1),a("i",{class:"fas fa-times",onClick:e[5]||(e[5]=t=>{$.value="",la()})})])):w("",!0),I.value?(u(),r("span",Le,[m(' "'+n(I.value)+'" ',1),a("i",{class:"fas fa-times",onClick:e[6]||(e[6]=t=>{I.value="",_a()})})])):w("",!0)])):w("",!0),a("div",Ge,[V.value?(u(),r("div",Je,[...e[58]||(e[58]=[a("div",{class:"spinner"},null,-1)])])):w("",!0),z.value?(u(),r("div",Re,[e[59]||(e[59]=a("div",{class:"state-icon bg-red"},[a("i",{class:"fas fa-exclamation-triangle"})],-1)),e[60]||(e[60]=a("h3",null,"Gagal Memuat Data",-1)),a("p",null,n(z.value),1),a("button",{class:"btn btn-primary",onClick:N},"Coba Lagi")])):w("",!0),z.value?w("",!0):(u(),r("table",Fe,[e[66]||(e[66]=a("thead",null,[a("tr",null,[a("th",{width:"50"},"No"),a("th",null,"NIP / Identitas"),a("th",null,"Nama Pegawai"),a("th",null,"Jabatan"),a("th",null,"Unit Kerja"),a("th",null,"Status"),a("th",null,"Terakhir Diubah"),a("th",{class:"text-right"},"Aksi")])],-1)),a("tbody",null,[!V.value&&F.value.length===0?(u(),r("tr",Ae,[...e[61]||(e[61]=[a("td",{colspan:"8"},[a("div",{class:"state-container empty"},[a("div",{class:"state-icon bg-blue"},[a("i",{class:"fas fa-inbox"})]),a("h3",null,"Data Kosong"),a("p",null,"Belum ada data pegawai yang ditemukan.")])],-1)])])):(u(!0),r(h,{key:1},T(F.value,(t,i)=>{var d,v,p,_,j,y,L,G;return u(),r("tr",{key:t.id},[a("td",Be,n(k.value.from+i),1),a("td",null,[a("span",Ye,n(((d=t.profile)==null?void 0:d.nip)||"-"),1)]),a("td",null,[a("div",ze,[a("span",Oe,n(((v=t.profile)==null?void 0:v.nama_lengkap)||((_=(p=t.profile)==null?void 0:p.user)==null?void 0:_.username)||"Tidak Ada Nama"),1),a("span",qe,n(((y=(j=t.profile)==null?void 0:j.user)==null?void 0:y.email)||"-"),1)])]),a("td",null,[t.jabatan?(u(),r("span",He,n(t.jabatan.nama_jabatan||"-"),1)):(u(),r("span",We,"-"))]),a("td",null,[t.unit_kerja?(u(),r("span",Qe,n(t.unit_kerja.nama_unit||"-"),1)):(u(),r("span",Xe,"-"))]),a("td",null,[a("span",{class:ba(["badge",te((L=t.status_kepegawaian)==null?void 0:L.nama_status)])},n(((G=t.status_kepegawaian)==null?void 0:G.nama_status)||"Tidak Ada Status"),3)]),a("td",null,[a("div",Ze,[a("span",at,n(Y(t.updated_at||t.created_at)),1),a("span",et,n(be(t.updated_at||t.created_at)),1)])]),a("td",null,[a("div",tt,[a("button",{class:"btn-action view",onClick:K=>ve(t),title:"Detail"},[...e[62]||(e[62]=[a("i",{class:"fas fa-eye"},null,-1)])],8,lt),a("button",{class:"btn-action edit",onClick:K=>Ca(t),title:"Edit"},[...e[63]||(e[63]=[a("i",{class:"fas fa-pen"},null,-1)])],8,nt),a("button",{class:"btn-action password",onClick:K=>ie(t),title:"Reset & Ubah Password",style:{background:"#f3e8ff",color:"#9333ea"}},[...e[64]||(e[64]=[a("i",{class:"fas fa-key"},null,-1)])],8,st),a("button",{class:"btn-action delete",onClick:K=>ge(t),title:"Hapus"},[...e[65]||(e[65]=[a("i",{class:"fas fa-trash-alt"},null,-1)])],8,ot)])])])}),128))])]))]),F.value.length>0?(u(),r("div",it,[a("div",dt,[e[67]||(e[67]=m(" Menampilkan ",-1)),a("b",null,n(k.value.from)+"-"+n(k.value.to),1),e[68]||(e[68]=m(" dari ",-1)),a("b",null,n(k.value.total),1),e[69]||(e[69]=m(" data ",-1))]),k.value.lastPage>1?(u(),r("div",rt,[a("button",{class:"page-btn prev",disabled:k.value.currentPage===1,onClick:e[7]||(e[7]=t=>ma(k.value.currentPage-1))},[...e[70]||(e[70]=[a("i",{class:"fas fa-chevron-left"},null,-1)])],8,ut),(u(!0),r(h,null,T(Za.value,t=>(u(),r("button",{key:t,class:ba(["page-btn number",{active:t===k.value.currentPage,dots:t==="..."}]),onClick:i=>ma(t)},n(t),11,pt))),128)),a("button",{class:"page-btn next",disabled:k.value.currentPage===k.value.lastPage,onClick:e[8]||(e[8]=t=>ma(k.value.currentPage+1))},[...e[71]||(e[71]=[a("i",{class:"fas fa-chevron-right"},null,-1)])],8,vt)])):w("",!0)])):w("",!0)])]),sa(ia,{name:"modal-fade"},{default:oa(()=>{var t,i,d,v,p,_,j,y,L,G,K,C,M,P,na,Va,Na,Sa,Ka,Ia,Ea,$a,La,Ga,Ja,Ra,Fa,Aa,Ba,Ya,za,Oa,qa,Ha,Wa,Qa;return[A.value?(u(),r("div",{key:0,class:"modal-backdrop",onClick:va},[a("div",{class:"modal-card modal-lg",onClick:e[10]||(e[10]=Z(()=>{},["stop"]))},[a("div",gt,[a("div",ft,[e[72]||(e[72]=a("h2",null,"Detail Pegawai",-1)),a("span",_t,"ID: "+n((t=o.value)==null?void 0:t.id),1)]),a("button",{class:"btn-close",onClick:va},[...e[73]||(e[73]=[a("i",{class:"fas fa-times"},null,-1)])])]),a("div",mt,[a("div",bt,[e[74]||(e[74]=a("div",{class:"icon-circle bg-indigo"},[a("i",{class:"fas fa-user-tie"})],-1)),a("div",kt,[a("h3",null,n(((d=(i=o.value)==null?void 0:i.profile)==null?void 0:d.nama_lengkap)||"Tidak Ada Nama"),1),a("span",wt,n(((p=(v=o.value)==null?void 0:v.status_kepegawaian)==null?void 0:p.nama_status)||"-"),1)])]),a("div",ct,[e[89]||(e[89]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-id-card"}),a("span",null,"Data Pribadi")],-1)),a("div",jt,[a("div",yt,[e[75]||(e[75]=a("label",null,"NIP / Identitas",-1)),a("p",null,n(((_=o.value.profile)==null?void 0:_.nip)||"-"),1)]),a("div",xt,[e[76]||(e[76]=a("label",null,"Email",-1)),a("p",null,n(((y=(j=o.value.profile)==null?void 0:j.user)==null?void 0:y.email)||"-"),1)]),a("div",Pt,[e[77]||(e[77]=a("label",null,"Tempat, Tanggal Lahir",-1)),a("p",null,n((L=o.value.profile)!=null&&L.tempat_lahir?o.value.profile.tempat_lahir+", ":"")+" "+n(Y((G=o.value.profile)==null?void 0:G.tanggal_lahir)),1)]),a("div",ht,[e[78]||(e[78]=a("label",null,"Jenis Kelamin",-1)),a("p",null,n(((K=o.value.profile)==null?void 0:K.jenis_kelamin)==="L"?"Laki-laki":((C=o.value.profile)==null?void 0:C.jenis_kelamin)==="P"?"Perempuan":"-"),1)]),a("div",Ct,[e[79]||(e[79]=a("label",null,"Agama",-1)),a("p",null,n(((P=(M=o.value.profile)==null?void 0:M.agama)==null?void 0:P.nama_agama)||"-"),1)]),a("div",Dt,[e[80]||(e[80]=a("label",null,"Status Pernikahan",-1)),a("p",null,n(((Va=(na=o.value.profile)==null?void 0:na.status_kawin)==null?void 0:Va.status)||"-"),1)]),a("div",Tt,[e[81]||(e[81]=a("label",null,"Pendidikan Terakhir",-1)),a("p",null,n(((Sa=(Na=o.value.profile)==null?void 0:Na.pendidikan)==null?void 0:Sa.nama_jenjang)||"-"),1)]),a("div",Ut,[e[82]||(e[82]=a("label",null,"Golongan Darah",-1)),a("p",null,n(((Ea=(Ia=(Ka=o.value)==null?void 0:Ka.profile)==null?void 0:Ia.golongan_darah)==null?void 0:Ea.kode)||"-"),1)]),a("div",Mt,[e[83]||(e[83]=a("label",null,"Gelar Depan 1",-1)),a("p",null,n((($a=o.value.profile)==null?void 0:$a.gelar_depan_1)||"-"),1)]),a("div",Vt,[e[84]||(e[84]=a("label",null,"Gelar Depan 2",-1)),a("p",null,n(((La=o.value.profile)==null?void 0:La.gelar_depan_2)||"-"),1)]),a("div",Nt,[e[85]||(e[85]=a("label",null,"Gelar Belakang",-1)),a("p",null,n(((Ga=o.value.profile)==null?void 0:Ga.gelar_belakang)||"-"),1)]),a("div",St,[e[86]||(e[86]=a("label",null,"Telepon",-1)),a("p",null,n(((Ja=o.value.profile)==null?void 0:Ja.telepon)||"-"),1)]),a("div",Kt,[e[87]||(e[87]=a("label",null,"Kode Pos",-1)),a("p",null,n(((Ra=o.value.profile)==null?void 0:Ra.kode_pos)||"-"),1)]),a("div",It,[e[88]||(e[88]=a("label",null,"Bank",-1)),a("p",null,n(((Aa=(Fa=o.value.profile)==null?void 0:Fa.bank)==null?void 0:Aa.nama_bank)||"-"),1)])])]),a("div",Et,[e[98]||(e[98]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-briefcase"}),a("span",null,"Data Kepegawaian")],-1)),a("div",$t,[a("div",Lt,[e[90]||(e[90]=a("label",null,"Jenis Pegawai",-1)),a("p",null,n(((Ba=o.value.jenis_pegawai)==null?void 0:Ba.nama_jenis)||"-"),1)]),a("div",Gt,[e[91]||(e[91]=a("label",null,"Status Kepegawaian",-1)),a("p",null,n(((Ya=o.value.status_kepegawaian)==null?void 0:Ya.nama_status)||"-"),1)]),a("div",Jt,[e[92]||(e[92]=a("label",null,"Jabatan",-1)),a("p",null,n(((za=o.value.jabatan)==null?void 0:za.nama_jabatan)||"-"),1)]),a("div",Rt,[e[93]||(e[93]=a("label",null,"Unit Kerja",-1)),a("p",null,n(((Oa=o.value.unit_kerja)==null?void 0:Oa.nama_unit)||"-"),1)]),a("div",Ft,[e[94]||(e[94]=a("label",null,"Pangkat",-1)),a("p",null,n(((qa=o.value.pangkat)==null?void 0:qa.nama_pangkat)||"-"),1)]),a("div",At,[e[95]||(e[95]=a("label",null,"Golongan",-1)),a("p",null,n(((Ha=o.value.golongan)==null?void 0:Ha.nama_golongan)||"-"),1)]),a("div",Bt,[e[96]||(e[96]=a("label",null,"TMT CPNS",-1)),a("p",null,n(Y((Wa=o.value.profile)==null?void 0:Wa.tmt_cpns)),1)]),a("div",Yt,[e[97]||(e[97]=a("label",null,"TMT PNS",-1)),a("p",null,n(Y((Qa=o.value.profile)==null?void 0:Qa.tmt_pns)),1)])])]),S(o.value)?(u(),r("div",zt,[e[106]||(e[106]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-file-contract"}),a("span",null,"Riwayat Jabatan Terakhir")],-1)),a("div",Ot,[a("div",qt,[e[99]||(e[99]=a("label",null,"Nomor SK",-1)),a("p",null,n(S(o.value).no_sk||"-"),1)]),a("div",Ht,[e[100]||(e[100]=a("label",null,"Tanggal SK",-1)),a("p",null,n(Y(S(o.value).tanggal_sk)),1)]),a("div",Wt,[e[101]||(e[101]=a("label",null,"TMT Jabatan",-1)),a("p",null,n(Y(S(o.value).tmt_jabatan)),1)]),a("div",Qt,[e[102]||(e[102]=a("label",null,"Bidang Studi",-1)),a("p",null,n(S(o.value).bidang_studi||"-"),1)]),a("div",Xt,[e[103]||(e[103]=a("label",null,"Keterangan Jabatan",-1)),a("p",null,n(S(o.value).keterangan_jabatan||"-"),1)]),a("div",Zt,[e[104]||(e[104]=a("label",null,"Diperbantukan",-1)),a("p",null,n(S(o.value).is_diperbantukan?"Ya":"Tidak"),1)]),a("div",al,[e[105]||(e[105]=a("label",null,"Tunjangan Jabatan",-1)),a("p",null,n(S(o.value).tunjangan_jabatan?"Rp "+Number(S(o.value).tunjangan_jabatan).toLocaleString("id-ID"):"-"),1)])])])):w("",!0),a("div",el,[e[109]||(e[109]=a("div",{class:"detail-section-header"},[a("i",{class:"fas fa-info-circle"}),a("span",null,"Informasi Lainnya")],-1)),a("div",tl,[a("div",ll,[e[107]||(e[107]=a("label",null,"Dibuat Pada",-1)),a("p",null,n(Ma(o.value.created_at)),1)]),a("div",nl,[e[108]||(e[108]=a("label",null,"Terakhir Diubah",-1)),a("p",null,n(Ma(o.value.updated_at)),1)])])])]),a("div",sl,[a("button",{class:"btn btn-secondary",onClick:va},"Tutup"),a("button",{class:"btn btn-primary",onClick:e[9]||(e[9]=Bn=>Ca(o.value))},"Edit Data")])])])):w("",!0)]}),_:1}),sa(ia,{name:"modal-fade"},{default:oa(()=>[O.value?(u(),r("div",{key:0,class:"modal-backdrop",onClick:Q},[a("div",{class:"modal-card modal-lg",onClick:e[41]||(e[41]=Z(()=>{},["stop"]))},[a("div",ol,[a("h2",null,n(q.value?"Edit Pegawai":"Tambah Pegawai Baru"),1),a("button",{class:"btn-close",onClick:Q},[...e[110]||(e[110]=[a("i",{class:"fas fa-times"},null,-1)])])]),a("div",il,[a("form",{onSubmit:Z(me,["prevent"]),class:"modern-form"},[q.value?w("",!0):(u(),r("div",dl,[...e[111]||(e[111]=[a("i",{class:"fas fa-info-circle"},null,-1),a("p",null,[a("strong",null,"Info Login Otomatis:"),a("br"),m(" Username: Tanpa Spasi (NIP / NIK / Nomor Identitas)"),a("br"),m(" Password Default: Tanggal Lahir (YYYYMMDD) ")],-1)])])),e[163]||(e[163]=a("div",{class:"form-section-title"},"Identitas Pribadi",-1)),a("div",rl,[a("div",ul,[e[112]||(e[112]=a("label",{for:"nip"},[m("NIP / NIK / Nomor Identitas "),a("span",{class:"text-danger"},"*")],-1)),g(a("input",{type:"text",id:"nip","onUpdate:modelValue":e[11]||(e[11]=t=>s.value.nip=t),required:"",placeholder:"NIP / NIK / Nomor Identitas"},null,512),[[b,s.value.nip]])]),a("div",pl,[e[113]||(e[113]=a("label",{for:"nama_lengkap"},[m("Nama Lengkap (Tanpa Gelar) "),a("span",{class:"text-danger"},"*")],-1)),g(a("input",{type:"text",id:"nama_lengkap","onUpdate:modelValue":e[12]||(e[12]=t=>s.value.nama_lengkap=t),required:"",placeholder:"Nama Sesuai KTP"},null,512),[[b,s.value.nama_lengkap]])])]),a("div",vl,[a("div",gl,[e[114]||(e[114]=a("label",{for:"gelar_depan_1"},"Gelar Depan 1",-1)),g(a("input",{type:"text",id:"gelar_depan_1","onUpdate:modelValue":e[13]||(e[13]=t=>s.value.gelar_depan_1=t),placeholder:"Contoh: Dr."},null,512),[[b,s.value.gelar_depan_1]])]),a("div",fl,[e[115]||(e[115]=a("label",{for:"gelar_depan_2"},"Gelar Depan 2",-1)),g(a("input",{type:"text",id:"gelar_depan_2","onUpdate:modelValue":e[14]||(e[14]=t=>s.value.gelar_depan_2=t),placeholder:"Contoh: H."},null,512),[[b,s.value.gelar_depan_2]])]),a("div",_l,[e[116]||(e[116]=a("label",{for:"gelar_belakang"},"Gelar Belakang",-1)),g(a("input",{type:"text",id:"gelar_belakang","onUpdate:modelValue":e[15]||(e[15]=t=>s.value.gelar_belakang=t),placeholder:"Contoh: S.Kom, M.T"},null,512),[[b,s.value.gelar_belakang]])])]),a("div",ml,[a("div",bl,[e[117]||(e[117]=a("label",{for:"tempat_lahir"},"Tempat Lahir",-1)),g(a("input",{type:"text",id:"tempat_lahir","onUpdate:modelValue":e[16]||(e[16]=t=>s.value.tempat_lahir=t)},null,512),[[b,s.value.tempat_lahir]])]),a("div",kl,[e[118]||(e[118]=a("label",{for:"tanggal_lahir"},[m("Tanggal Lahir "),a("span",{class:"text-danger"},"*")],-1)),g(a("input",{type:"date",id:"tanggal_lahir","onUpdate:modelValue":e[17]||(e[17]=t=>s.value.tanggal_lahir=t),required:""},null,512),[[b,s.value.tanggal_lahir]])])]),a("div",wl,[a("div",cl,[e[121]||(e[121]=a("label",{for:"jenis_kelamin"},[m("Jenis Kelamin "),a("span",{class:"text-danger"},"*")],-1)),a("div",jl,[g(a("select",{id:"jenis_kelamin","onUpdate:modelValue":e[18]||(e[18]=t=>s.value.jenis_kelamin=t),required:""},[...e[119]||(e[119]=[a("option",{value:""},"Pilih...",-1),a("option",{value:"L"},"Laki-laki",-1),a("option",{value:"P"},"Perempuan",-1)])],512),[[D,s.value.jenis_kelamin]]),e[120]||(e[120]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])]),a("div",yl,[e[124]||(e[124]=a("label",{for:"golongan_darah_id"},"Golongan Darah",-1)),a("div",xl,[g(a("select",{id:"golongan_darah_id","onUpdate:modelValue":e[19]||(e[19]=t=>s.value.golongan_darah_id=t)},[e[122]||(e[122]=a("option",{value:""},"Pilih...",-1)),(u(!0),r(h,null,T(xa.value,t=>(u(),r("option",{key:t.id,value:t.id},n(t.kode),9,Pl))),128))],512),[[D,s.value.golongan_darah_id]]),e[123]||(e[123]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])])]),a("div",hl,[a("div",Cl,[e[127]||(e[127]=a("label",{for:"agama_id"},"Agama",-1)),a("div",Dl,[g(a("select",{id:"agama_id","onUpdate:modelValue":e[20]||(e[20]=t=>s.value.agama_id=t)},[e[125]||(e[125]=a("option",{value:""},"Pilih...",-1)),(u(!0),r(h,null,T(ca.value,t=>(u(),r("option",{key:t.id,value:t.id},n(t.nama_agama),9,Tl))),128))],512),[[D,s.value.agama_id]]),e[126]||(e[126]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])]),a("div",Ul,[e[130]||(e[130]=a("label",{for:"status_kawin_id"},"Status Pernikahan",-1)),a("div",Ml,[g(a("select",{id:"status_kawin_id","onUpdate:modelValue":e[21]||(e[21]=t=>s.value.status_kawin_id=t)},[e[128]||(e[128]=a("option",{value:""},"Pilih...",-1)),(u(!0),r(h,null,T(ya.value,t=>(u(),r("option",{key:t.id,value:t.id},n(t.status),9,Vl))),128))],512),[[D,s.value.status_kawin_id]]),e[129]||(e[129]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])])]),a("div",Nl,[a("div",Sl,[e[133]||(e[133]=a("label",{for:"pendidikan_id"},"Pendidikan Terakhir",-1)),a("div",Kl,[g(a("select",{id:"pendidikan_id","onUpdate:modelValue":e[22]||(e[22]=t=>s.value.pendidikan_id=t)},[e[131]||(e[131]=a("option",{value:""},"Pilih...",-1)),(u(!0),r(h,null,T(ja.value,t=>(u(),r("option",{key:t.id,value:t.id},n(t.nama_jenjang),9,Il))),128))],512),[[D,s.value.pendidikan_id]]),e[132]||(e[132]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])])]),a("div",El,[a("div",$l,[e[134]||(e[134]=a("label",{for:"telepon"},"Nomor Telepon",-1)),g(a("input",{type:"text",id:"telepon","onUpdate:modelValue":e[23]||(e[23]=t=>s.value.telepon=t),placeholder:"08..."},null,512),[[b,s.value.telepon]])]),a("div",Ll,[e[135]||(e[135]=a("label",{for:"email"},"Email",-1)),g(a("input",{type:"email",id:"email","onUpdate:modelValue":e[24]||(e[24]=t=>s.value.email=t),placeholder:"Email pribadi (opsional)"},null,512),[[b,s.value.email]])])]),e[164]||(e[164]=a("div",{class:"form-section-title"},"Status Kepegawaian",-1)),a("div",Gl,[a("div",Jl,[e[138]||(e[138]=a("label",{for:"employment_status_id"},[m("Status Pegawai "),a("span",{class:"text-danger"},"*")],-1)),a("div",Rl,[g(a("select",{id:"employment_status_id","onUpdate:modelValue":e[25]||(e[25]=t=>s.value.status_kepegawaian_id=t),required:""},[e[136]||(e[136]=a("option",{value:""},"Pilih...",-1)),(u(!0),r(h,null,T(wa.value,t=>(u(),r("option",{key:t.id,value:t.id},n(t.nama_status),9,Fl))),128))],512),[[D,s.value.status_kepegawaian_id]]),e[137]||(e[137]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])]),a("div",Al,[e[141]||(e[141]=a("label",{for:"jenis_pegawai_id"},"Jenis Pegawai",-1)),a("div",Bl,[g(a("select",{id:"jenis_pegawai_id","onUpdate:modelValue":e[26]||(e[26]=t=>s.value.jenis_pegawai_id=t)},[e[139]||(e[139]=a("option",{value:""},"Pilih...",-1)),(u(!0),r(h,null,T(Pa.value,t=>(u(),r("option",{key:t.id,value:t.id},n(t.nama),9,Yl))),128))],512),[[D,s.value.jenis_pegawai_id]]),e[140]||(e[140]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])])]),a("div",zl,[a("div",Ol,[e[144]||(e[144]=a("label",{for:"jabatan_id"},[m("Jabatan "),a("span",{class:"text-danger"},"*")],-1)),a("div",ql,[g(a("select",{id:"jabatan_id","onUpdate:modelValue":e[27]||(e[27]=t=>s.value.jabatan_id=t),onChange:fe,required:""},[e[142]||(e[142]=a("option",{value:""},"Pilih...",-1)),(u(!0),r(h,null,T(H.value,t=>(u(),r("option",{key:t.id,value:t.id},n(t.nama_jabatan),9,Hl))),128))],544),[[D,s.value.jabatan_id]]),e[143]||(e[143]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])])]),e[165]||(e[165]=a("div",{class:"form-section-title"},"Penempatan & Golongan",-1)),a("div",Wl,[a("div",Ql,[e[147]||(e[147]=a("label",{for:"unit_kerja_id"},"Unit Kerja",-1)),a("div",Xl,[g(a("select",{id:"unit_kerja_id","onUpdate:modelValue":e[28]||(e[28]=t=>s.value.unit_kerja_id=t)},[e[145]||(e[145]=a("option",{value:""},"Pilih...",-1)),(u(!0),r(h,null,T(ea.value,t=>(u(),r("option",{key:t.id,value:t.id},n(t.nama_unit),9,Zl))),128))],512),[[D,s.value.unit_kerja_id]]),e[146]||(e[146]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])]),a("div",an,[e[150]||(e[150]=a("label",{for:"pangkat_id"},"Pangkat/Golongan",-1)),a("div",en,[g(a("select",{id:"pangkat_id","onUpdate:modelValue":e[29]||(e[29]=t=>s.value.pangkat_id=t),onChange:e[30]||(e[30]=t=>{var i;return s.value.golongan_id=((i=pa.value.find(d=>d.id===s.value.pangkat_id))==null?void 0:i.golongan_id)||""})},[e[148]||(e[148]=a("option",{value:""},"Pilih...",-1)),(u(!0),r(h,null,T(pa.value,t=>(u(),r("option",{key:t.id,value:t.id},n(t.nama_pangkat)+" ("+n(t.nama_golongan)+")",9,tn))),128))],544),[[D,s.value.pangkat_id]]),e[149]||(e[149]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])])]),e[166]||(e[166]=a("div",{class:"form-section-title"},"Masa Kerja",-1)),a("div",ln,[a("div",nn,[e[151]||(e[151]=a("label",{for:"tmt_cpns"},"TMT CPNS",-1)),g(a("input",{type:"date",id:"tmt_cpns","onUpdate:modelValue":e[31]||(e[31]=t=>s.value.tmt_cpns=t)},null,512),[[b,s.value.tmt_cpns]])]),a("div",sn,[e[152]||(e[152]=a("label",{for:"tmt_pns"},"TMT PNS",-1)),g(a("input",{type:"date",id:"tmt_pns","onUpdate:modelValue":e[32]||(e[32]=t=>s.value.tmt_pns=t)},null,512),[[b,s.value.tmt_pns]])])]),a("div",on,[a("div",dn,[e[153]||(e[153]=a("label",{for:"no_sk_jabatan"},"Nomor SK Jabatan",-1)),g(a("input",{type:"text",id:"no_sk_jabatan","onUpdate:modelValue":e[33]||(e[33]=t=>s.value.no_sk_jabatan=t),placeholder:"Nomor SK"},null,512),[[b,s.value.no_sk_jabatan]])]),a("div",rn,[e[154]||(e[154]=a("label",{for:"tanggal_sk_jabatan"},"Tanggal SK",-1)),g(a("input",{type:"date",id:"tanggal_sk_jabatan","onUpdate:modelValue":e[34]||(e[34]=t=>s.value.tanggal_sk_jabatan=t)},null,512),[[b,s.value.tanggal_sk_jabatan]])]),a("div",un,[e[155]||(e[155]=a("label",{for:"tmt_jabatan"},"TMT Jabatan",-1)),g(a("input",{type:"date",id:"tmt_jabatan","onUpdate:modelValue":e[35]||(e[35]=t=>s.value.tmt_jabatan=t)},null,512),[[b,s.value.tmt_jabatan]])])]),a("div",pn,[a("div",vn,[e[156]||(e[156]=a("label",{for:"bidang_studi"},"Bidang Studi",-1)),g(a("input",{type:"text",id:"bidang_studi","onUpdate:modelValue":e[36]||(e[36]=t=>s.value.bidang_studi=t),placeholder:"Contoh: Pendidikan Agama Islam"},null,512),[[b,s.value.bidang_studi]])]),a("div",gn,[e[157]||(e[157]=a("label",{for:"keterangan_jabatan"},"Keterangan Jabatan",-1)),g(a("input",{type:"text",id:"keterangan_jabatan","onUpdate:modelValue":e[37]||(e[37]=t=>s.value.keterangan_jabatan=t),placeholder:"Contoh: Dosen Tetap"},null,512),[[b,s.value.keterangan_jabatan]])])]),a("div",fn,[a("div",_n,[e[158]||(e[158]=a("label",{for:"tunjangan_jabatan"},"Tunjangan Jabatan (Rp)",-1)),g(a("input",{type:"number",id:"tunjangan_jabatan","onUpdate:modelValue":e[38]||(e[38]=t=>s.value.tunjangan_jabatan=t),placeholder:"0"},null,512),[[b,s.value.tunjangan_jabatan]])]),a("div",mn,[e[161]||(e[161]=a("label",{for:"is_diperbantukan"},"Diperbantukan",-1)),a("div",bn,[g(a("select",{id:"is_diperbantukan","onUpdate:modelValue":e[39]||(e[39]=t=>s.value.is_diperbantukan=t)},[...e[159]||(e[159]=[a("option",{value:!1},"Tidak",-1),a("option",{value:!0},"Ya",-1)])],512),[[D,s.value.is_diperbantukan]]),e[160]||(e[160]=a("i",{class:"fas fa-chevron-down dropdown-icon"},null,-1))])]),s.value.is_diperbantukan?(u(),r("div",kn,[e[162]||(e[162]=a("label",{for:"keterangan_diperbantukan"},"Keterangan",-1)),g(a("input",{type:"text",id:"keterangan_diperbantukan","onUpdate:modelValue":e[40]||(e[40]=t=>s.value.keterangan_diperbantukan=t),placeholder:"Keterangan..."},null,512),[[b,s.value.keterangan_diperbantukan]])])):w("",!0)]),a("div",wn,[a("button",{type:"button",class:"btn btn-text",onClick:Q},"Batal"),a("button",{type:"submit",class:"btn btn-primary",disabled:J.value},[J.value?(u(),r("i",jn)):w("",!0),m(" "+n(J.value?"Menyimpan...":"Simpan Data"),1)],8,cn)])],32)])])])):w("",!0)]),_:1}),sa(ia,{name:"modal-fade"},{default:oa(()=>{var t,i,d,v,p,_;return[da.value?(u(),r("div",{key:0,class:"modal-backdrop",onClick:ga},[a("div",{class:"modal-card modal-sm text-center",onClick:e[43]||(e[43]=Z(()=>{},["stop"]))},[a("div",yn,[e[173]||(e[173]=a("div",{class:"warning-icon"},[a("i",{class:"fas fa-trash"})],-1)),e[174]||(e[174]=a("h3",null,"Hapus Pegawai?",-1)),a("p",xn,[e[167]||(e[167]=m(" Anda akan menghapus pegawai ",-1)),a("strong",null,n(((i=(t=o.value)==null?void 0:t.profile)==null?void 0:i.nama_lengkap)||"Tidak Ada Nama"),1),e[168]||(e[168]=m(". Tindakan ini ",-1)),e[169]||(e[169]=a("strong",null,"tidak dapat dibatalkan",-1)),e[170]||(e[170]=m(". ",-1))]),a("div",Pn,[a("label",hn,[e[171]||(e[171]=m("Ketik ",-1)),a("strong",null,n(((v=(d=o.value)==null?void 0:d.profile)==null?void 0:v.nip)||"KONFIRMASI"),1),e[172]||(e[172]=m(" untuk melanjutkan:",-1))]),g(a("input",{type:"text","onUpdate:modelValue":e[42]||(e[42]=j=>W.value=j),class:"form-control text-center",placeholder:"Ketik disini...",style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"6px"}},null,512),[[b,W.value]])]),a("div",Cn,[a("button",{class:"btn btn-secondary",onClick:ga},"Batal"),a("button",{class:"btn btn-danger",onClick:se,disabled:aa.value||W.value!==(((_=(p=o.value)==null?void 0:p.profile)==null?void 0:_.nip)||"KONFIRMASI")},n(aa.value?"Menghapus...":"Ya, Hapus"),9,Dn)])])])])):w("",!0)]}),_:1})]),sa(ia,{name:"modal-fade"},{default:oa(()=>{var t,i,d,v,p;return[ra.value?(u(),r("div",{key:0,class:"modal-backdrop",onClick:ta},[a("div",{class:"modal-card modal-sm",onClick:e[46]||(e[46]=Z(()=>{},["stop"]))},[a("div",{class:"modal-header"},[e[176]||(e[176]=a("h2",null,"Manajemen Password",-1)),a("button",{class:"btn-close",onClick:ta},[...e[175]||(e[175]=[a("i",{class:"fas fa-times"},null,-1)])])]),a("div",Tn,[a("div",Un,[e[177]||(e[177]=a("div",{class:"state-icon bg-blue",style:{width:"50px",height:"50px","font-size":"20px"}},[a("i",{class:"fas fa-key"})],-1)),a("h3",Mn,n((i=(t=o.value)==null?void 0:t.profile)==null?void 0:i.nama_lengkap),1),a("p",Vn,"Username: "+n(((p=(v=(d=o.value)==null?void 0:d.profile)==null?void 0:v.user)==null?void 0:p.username)||"-"),1)]),a("div",Nn,[a("div",Sn,[e[182]||(e[182]=a("h4",{style:{margin:"0 0 10px","font-size":"14px",color:"#374151"}},"Opsi 1: Reset ke Default",-1)),a("p",Kn,[e[178]||(e[178]=m(" Password akan direset menjadi tanggal lahir (YYYYMMDD).",-1)),e[179]||(e[179]=a("br",null,null,-1)),e[180]||(e[180]=m(" Contoh: ",-1)),a("strong",null,n(de(o.value)),1)]),a("button",{class:"btn btn-secondary fluid",onClick:re,disabled:B.value},[...e[181]||(e[181]=[a("i",{class:"fas fa-sync-alt"},null,-1),m(" Reset Password Default ",-1)])],8,In)]),a("div",En,[e[184]||(e[184]=a("h4",{style:{margin:"0 0 10px","font-size":"14px",color:"#374151"}},"Opsi 2: Ubah Password Manual",-1)),a("div",$n,[g(a("input",{type:"password","onUpdate:modelValue":e[44]||(e[44]=_=>U.value=_),placeholder:"Masukkan password baru...",class:"fluid",style:{width:"100%","box-sizing":"border-box","margin-bottom":"8px"}},null,512),[[b,U.value]]),g(a("input",{type:"password","onUpdate:modelValue":e[45]||(e[45]=_=>R.value=_),placeholder:"Konfirmasi password baru...",class:"fluid",style:{width:"100%","box-sizing":"border-box"}},null,512),[[b,R.value]])]),a("button",{class:"btn btn-primary fluid",onClick:ue,disabled:!Da.value||B.value},[...e[183]||(e[183]=[a("i",{class:"fas fa-save"},null,-1),m(" Simpan Password Baru ",-1)])],8,Ln),a("div",Gn,[U.value&&U.value.length<6?(u(),r("p",Jn," Minimal 6 karakter. ")):w("",!0),U.value&&R.value&&U.value!==R.value?(u(),r("p",Rn," Password tidak cocok. ")):w("",!0)])])])])])])):w("",!0)]}),_:1})],64))}},On=ke(Fn,[["__scopeId","data-v-95b264dc"]]);export{On as default};
