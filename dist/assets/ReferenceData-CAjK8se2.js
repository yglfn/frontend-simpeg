import{_ as D,b as o,e as a,n as b,t as i,h,H as P,d as J,v as N,k as f,g as d,F as S,B as R,m as p,C as G,E as K,p as v,o as l}from"./index-CerEmezX.js";const T={class:"reference-data-container"},L={class:"content-wrapper"},M={class:"page-header"},V=["disabled"],B={class:"control-bar"},A={class:"control-wrapper"},E={class:"input-group"},F={class:"custom-select-wrapper"},I={class:"search-box"},H=["disabled"],U={class:"data-surface"},z={key:0,class:"state-container"},O={key:1,class:"state-container empty"},Q={key:2,class:"table-container"},$={class:"table-meta"},q={class:"meta-tag"},W={key:0,class:"meta-tag category-tag"},X={class:"table-scroll"},Y={class:"modern-table"},Z={key:0,width:"200"},aa={key:1,width:"150",class:"text-center"},ea={key:2,width:"120",class:"text-center"},ta={key:3},na={key:0},sa=["colspan"],oa={class:"text-center"},la={class:"id-pill"},ia={class:"primary-text"},da={key:0},ua={class:"status-badge group"},ra={key:1,class:"text-center"},ca={class:"status-badge duration"},pa={key:2,class:"text-center"},va={class:"code-mono"},ga={key:3},ka={class:"desc-text"},ma={__name:"ReferenceData",setup(_a){const t=p(""),u=p([]),c=p(!1),r=p(""),k={roles:{key:"nama_role",label:"Nama Role"},agama:{key:"nama_agama",label:"Nama Agama"},pendidikan:{key:"nama_jenjang",label:"Jenjang Pendidikan"},"status-kawin":{key:"status",label:"Status"},"golongan-darah":{key:"kode",label:"Golongan Darah"},"jenis-jabatan":{key:"nama_jenis",label:"Jenis Jabatan"},golongan:{key:"nama_golongan",label:"Nama Golongan"},pangkat:{key:"nama_pangkat",label:"Nama Pangkat"},"tipe-dokumen":{key:"nama_tipe",label:"Nama Tipe Audit"},"jenis-pegawai":{key:"nama",label:"Jenis Pegawai"},"status-kepegawaian":{key:"nama_status",label:"Status Kepegawaian"},"jenis-cuti":{key:"nama_cuti",label:"Nama Cuti"}},y={roles:"Roles",agama:"Agama",pendidikan:"Pendidikan","status-kawin":"Status Pernikahan","golongan-darah":"Golongan Darah","jenis-jabatan":"Jenis Jabatan",golongan:"Golongan",pangkat:"Pangkat","tipe-dokumen":"Tipe Dokumen","jenis-pegawai":"Jenis Pegawai","status-kepegawaian":"Status Kepegawaian","jenis-cuti":"Jenis Cuti"},m=v(()=>{var n;return((n=k[t.value])==null?void 0:n.key)||"name"}),w=v(()=>{var n;return((n=k[t.value])==null?void 0:n.label)||"Nama"}),g=v(()=>{if(!r.value)return u.value;const n=r.value.toLowerCase();return u.value.filter(e=>{const s=e[m.value];return s&&String(s).toLowerCase().includes(n)})}),j=v(()=>{let n=2;return t.value==="ranks"&&n++,t.value==="leave-types"&&(n+=2),t.value==="blood-types"&&n++,n}),_=async()=>{if(!t.value){u.value=[];return}c.value=!0;try{const n=await G.get(`/super-admin/reference/${t.value}`);u.value=n.data.data,r.value=""}catch(n){console.error("Failed to fetch references",n),K.error("Gagal memuat data referensi"),u.value=[]}finally{c.value=!1}},x=()=>{r.value="",t.value&&_()},C=n=>y[n]||n;return(n,e)=>(l(),o("div",T,[a("div",L,[a("header",M,[e[3]||(e[3]=a("div",{class:"header-content"},[a("div",{class:"icon-box"},[a("i",{class:"fas fa-layer-group"})]),a("div",{class:"header-text"},[a("h2",null,"Tabel Referensi"),a("p",null,"Master data sistem (Read Only)")])],-1)),a("button",{class:"btn-refresh",onClick:x,disabled:c.value},[a("span",{class:b(["icon-wrapper",{spinning:c.value}])},[...e[2]||(e[2]=[a("i",{class:"fas fa-sync-alt"},null,-1)])],2),a("span",null,i(c.value?"Memuat...":"Refresh Data"),1)],8,V)]),a("div",B,[a("div",A,[a("div",E,[e[7]||(e[7]=a("label",null,"Kategori Data",-1)),a("div",F,[e[5]||(e[5]=a("i",{class:"fas fa-filter input-icon"},null,-1)),h(a("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>t.value=s),onChange:_,class:"modern-select"},[...e[4]||(e[4]=[J('<option value="" disabled selected data-v-b79d2462>Pilih Referensi...</option><option value="roles" data-v-b79d2462>Roles</option><option value="agama" data-v-b79d2462>Agama</option><option value="pendidikan" data-v-b79d2462>Pendidikan</option><option value="status-kawin" data-v-b79d2462>Status Pernikahan</option><option value="golongan-darah" data-v-b79d2462>Golongan Darah</option><option value="jenis-jabatan" data-v-b79d2462>Jenis Jabatan</option><option value="golongan" data-v-b79d2462>Golongan </option><option value="pangkat" data-v-b79d2462>Pangkat </option><option value="tipe-dokumen" data-v-b79d2462>Tipe Dokumen</option><option value="jenis-pegawai" data-v-b79d2462>Jenis Pegawai</option><option value="status-kepegawaian" data-v-b79d2462>Status Kepegawaian</option><option value="jenis-cuti" data-v-b79d2462>Jenis Cuti</option>',13)])],544),[[P,t.value]]),e[6]||(e[6]=a("i",{class:"fas fa-chevron-down arrow-icon"},null,-1))])]),a("div",{class:b(["input-group search-group",{disabled:!u.value.length}])},[e[9]||(e[9]=a("label",null,"Pencarian",-1)),a("div",I,[e[8]||(e[8]=a("i",{class:"fas fa-search search-icon"},null,-1)),h(a("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=s=>r.value=s),disabled:!u.value.length,placeholder:"Cari nama, kode, atau deskripsi..."},null,8,H),[[N,r.value]])])],2)])]),a("div",U,[c.value?(l(),o("div",z,[...e[10]||(e[10]=[a("div",{class:"loader"},null,-1),a("p",null,"Menghubungkan ke database...",-1)])])):u.value.length===0&&!t.value?(l(),o("div",O,[...e[11]||(e[11]=[a("div",{class:"empty-illustration"},[a("i",{class:"fas fa-folder-open"})],-1),a("h3",null,"Belum ada Kategori",-1),a("p",null,"Silakan pilih kategori referensi di atas untuk memuat data.",-1)])])):(l(),o("div",Q,[a("div",$,[a("span",q,[e[12]||(e[12]=f(" Total: ",-1)),a("b",null,i(g.value.length),1),e[13]||(e[13]=f(" Item ",-1))]),t.value?(l(),o("span",W,i(C(t.value)),1)):d("",!0)]),a("div",X,[a("table",Y,[a("thead",null,[a("tr",null,[e[14]||(e[14]=a("th",{width:"80",class:"text-center"},"ID",-1)),a("th",null,i(w.value),1),t.value==="pangkat"?(l(),o("th",Z,"Golongan")):d("",!0),t.value==="jenis-cuti"?(l(),o("th",aa,"Durasi")):d("",!0),t.value==="jenis-cuti"?(l(),o("th",ea,"Kode")):d("",!0),t.value==="golongan-darah"||t.value==="tipe-dokumen"?(l(),o("th",ta,"Keterangan")):d("",!0)])]),a("tbody",null,[g.value.length===0?(l(),o("tr",na,[a("td",{colspan:j.value,class:"text-center no-result"},[e[15]||(e[15]=a("i",{class:"far fa-frown"},null,-1)),a("p",null,'Tidak ditemukan data "'+i(r.value)+'"',1)],8,sa)])):(l(!0),o(S,{key:1},R(g.value,s=>(l(),o("tr",{key:s.id},[a("td",oa,[a("span",la,"#"+i(s.id),1)]),a("td",ia,i(s[m.value]||s.name||s.description),1),t.value==="pangkat"?(l(),o("td",da,[a("span",ua,i(s.golongan_id||"-"),1)])):d("",!0),t.value==="jenis-cuti"?(l(),o("td",ra,[a("span",ca,i(s.maks_hari_per_tahun)+" Hari ",1)])):d("",!0),t.value==="jenis-cuti"?(l(),o("td",pa,[a("span",va,i(s.kode),1)])):d("",!0),t.value==="golongan-darah"||t.value==="tipe-dokumen"?(l(),o("td",ga,[a("span",ka,i(s.keterangan||"-"),1)])):d("",!0)]))),128))])])])]))])])]))}},ha=D(ma,[["__scopeId","data-v-b79d2462"]]);export{ha as default};
