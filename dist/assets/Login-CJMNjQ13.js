import{_,u as P,a as B,b as p,d as M,e as s,w as f,f as r,t as u,g as E,h as m,v as N,i as U,n as b,j as L,k as v,l as A,m as g,p as C,q as D,o as k,E as i}from"./index-CerEmezX.js";const j={class:"login-container"},T={class:"login-form-panel"},V={key:0,class:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded shadow-sm",role:"alert"},K={class:"form-group"},q={class:"input-with-icon"},F={class:"form-group"},H={class:"input-with-icon"},R=["type"],G={class:"remember-forgot"},Y={class:"remember-me"},z=["disabled"],W={class:"login-footer"},$={class:"mb-1"},J={class:"support-info"},O={__name:"Login",setup(Q){const w=D(),o=P(),e=A({username:"",password:"",remember:!1}),l=g(!1),n=g(!1),h=C(()=>new Date().getFullYear()),y=()=>{l.value=!l.value},x=()=>{i.info({message:"Silakan hubungi Biro Kepegawaian Universitas untuk reset password. Email: kepegawaian@uinib.ac.id",duration:5e3,showClose:!0})},I=()=>{i.info({message:"Bantuan: Hubungi Biro Kepegawaian Universitas (0751) 30071",duration:5e3,showClose:!0})},S=async()=>{if(!e.username.trim()||!e.password){i.warning("Silakan lengkapi username dan password");return}n.value=!0;try{const t={},a=e.username.trim(),d=a.includes("@"),X=/^\d{4}-\d{2}-\d{2}$/.test(e.password);d?(t.email=a,t.password=e.password,console.log("Mode: Email login")):(t.nip=a,t.tanggal_lahir=e.password,console.log("Mode: NIP login")),console.log("Mengirim credentials:",t);const c=await o.login(t);c&&c.success!==!1?(i.success("Login berhasil! Selamat datang."),w.push("/")):i.error(o.error||"Login gagal. Silakan coba lagi.")}catch(t){console.error("Login error:",t),i.error("Terjadi kesalahan pada sistem. Silakan coba lagi nanti.")}finally{n.value=!1}};return B(()=>{document.querySelectorAll(".form-input").forEach(d=>{d.addEventListener("focus",function(){this.parentElement.style.transform="scale(1.02)"}),d.addEventListener("blur",function(){this.parentElement.style.transform="scale(1)"})});const a=localStorage.getItem("rememberedUser");a&&(e.username=a,e.remember=!0)}),(t,a)=>(k(),p("div",j,[a[12]||(a[12]=M('<div class="info-panel" data-v-2ffbd0f0><div class="background-image" data-v-2ffbd0f0></div><div class="background-overlay" data-v-2ffbd0f0></div><div class="logo" data-v-2ffbd0f0><div class="logo-image" data-v-2ffbd0f0><img src="https://ridergalau.id/wp-content/uploads/2025/12/Logo-UIN-Imam-Bonjol-Padang-RiderGalau.png" alt="Logo UIN Imam Bonjol Padang" data-v-2ffbd0f0></div><div class="logo-text" data-v-2ffbd0f0><h1 data-v-2ffbd0f0>SIMPEG <span data-v-2ffbd0f0>UIN Imam Bonjol Padang</span></h1><p data-v-2ffbd0f0>Sistem Informasi Kepegawaian Terintegrasi</p></div></div><div class="system-info" data-v-2ffbd0f0><h2 data-v-2ffbd0f0>Keunggulan Sistem</h2><ul class="features-list" data-v-2ffbd0f0><li class="feature-item" data-v-2ffbd0f0><div class="feature-icon" data-v-2ffbd0f0><i class="fas fa-database" data-v-2ffbd0f0></i></div><div class="feature-text" data-v-2ffbd0f0><h4 data-v-2ffbd0f0>Single Source of Truth</h4><p data-v-2ffbd0f0>Data pegawai terpusat dan terintegrasi untuk semua unit kerja</p></div></li><li class="feature-item" data-v-2ffbd0f0><div class="feature-icon" data-v-2ffbd0f0><i class="fas fa-user-shield" data-v-2ffbd0f0></i></div><div class="feature-text" data-v-2ffbd0f0><h4 data-v-2ffbd0f0>Role-Based Access</h4><p data-v-2ffbd0f0>Akses terkontrol berdasarkan peran dan wewenang pengguna</p></div></li><li class="feature-item" data-v-2ffbd0f0><div class="feature-icon" data-v-2ffbd0f0><i class="fas fa-project-diagram" data-v-2ffbd0f0></i></div><div class="feature-text" data-v-2ffbd0f0><h4 data-v-2ffbd0f0>Workflow Terstruktur</h4><p data-v-2ffbd0f0>Proses administratif dan manajerial yang sistematis dan terdokumentasi</p></div></li></ul></div><div class="role-info" data-v-2ffbd0f0><h4 data-v-2ffbd0f0>Akses Berdasarkan Peran</h4><div class="role-badges" data-v-2ffbd0f0><div class="role-badge" data-v-2ffbd0f0>Admin Universitas</div><div class="role-badge" data-v-2ffbd0f0>Admin Fakultas</div><div class="role-badge" data-v-2ffbd0f0>Pimpinan</div><div class="role-badge" data-v-2ffbd0f0>Dosen</div><div class="role-badge" data-v-2ffbd0f0>Tenaga Kependidikan</div></div></div></div>',1)),s("div",T,[s("form",{class:"login-form",onSubmit:f(S,["prevent"])},[a[10]||(a[10]=s("div",{class:"form-header mb-8"},[s("h2",{class:"text-2xl font-bold"},"Selamat Datang"),s("p",{class:"text-slate-500"},"Silakan masuk ke akun Anda")],-1)),r(o).error?(k(),p("div",V,[s("p",null,u(r(o).error),1)])):E("",!0),s("div",K,[a[4]||(a[4]=s("label",{for:"username",class:"form-label"},"Email / NIP / NIK / Nomor Identitas",-1)),s("div",q,[a[3]||(a[3]=s("i",{class:"fas fa-user"},null,-1)),m(s("input",{type:"text",id:"username",class:"form-input","onUpdate:modelValue":a[0]||(a[0]=d=>e.username=d),placeholder:"Masukkan identitas anda",required:""},null,512),[[N,e.username]])])]),s("div",F,[a[6]||(a[6]=s("label",{for:"password",class:"form-label"},"Password",-1)),s("div",H,[a[5]||(a[5]=s("i",{class:"fas fa-lock"},null,-1)),m(s("input",{type:l.value?"text":"password",id:"password",class:"form-input","onUpdate:modelValue":a[1]||(a[1]=d=>e.password=d),placeholder:"Masukkan password anda",required:""},null,8,R),[[U,e.password]]),s("button",{type:"button",class:"password-toggle",onClick:y},[s("i",{class:b(l.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),a[7]||(a[7]=s("p",{class:"text-xs text-gray-500 mt-1"},null,-1))]),s("div",G,[s("div",Y,[m(s("input",{type:"checkbox",id:"remember","onUpdate:modelValue":a[2]||(a[2]=d=>e.remember=d)},null,512),[[L,e.remember]]),a[8]||(a[8]=s("label",{for:"remember",class:"ml-2"},"Ingat saya",-1))]),s("a",{href:"#",class:"forgot-password",onClick:f(x,["prevent"])}," Lupa password? ")]),s("button",{type:"submit",class:"btn-login",disabled:n.value||r(o).loading},[s("i",{class:b([n.value||r(o).loading?"fas fa-spinner fa-spin":"fas fa-sign-in-alt","mr-2"])},null,2),v(" "+u(n.value||r(o).loading?"Memproses...":"Masuk ke Sistem"),1)],8,z),a[11]||(a[11]=s("div",{class:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded text-xs text-blue-700"},[s("i",{class:"fas fa-info-circle mr-1"}),s("strong",null,"Catatan:"),v(" Sistem akan otomatis mendeteksi apakah Anda login dengan email atau NIP. ")],-1)),s("div",W,[s("p",$,"Â© "+u(h.value)+" TIPD UINIB. Hak cipta dilindungi.",1),s("div",J,[a[9]||(a[9]=v(" Butuh bantuan? Hubungi ",-1)),s("a",{href:"#",onClick:f(I,["prevent"])},"Biro Kepegawaian Universitas")])])],32)])]))}},aa=_(O,[["__scopeId","data-v-2ffbd0f0"]]);export{aa as default};
