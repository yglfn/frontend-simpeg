import{_,u as P,a as E,b as f,d as B,e as s,w as u,f as l,t as m,g as M,h as v,v as N,i as U,n as b,j as L,k as p,l as A,m as k,p as C,q as D,o as w,E as n}from"./index-DpJd74yk.js";const j={class:"login-container"},T={class:"login-form-panel"},V={key:0,class:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded shadow-sm",role:"alert"},K={class:"form-group"},q={class:"input-with-icon"},R={class:"form-group"},F={class:"input-with-icon"},H=["type"],G={class:"remember-forgot"},W={class:"remember-me"},Y=["disabled"],z={class:"login-footer"},$={class:"mb-1"},J={class:"support-info"},O={__name:"Login",setup(Q){const g=D(),i=P(),e=A({username:"",password:"",remember:!1}),d=k(!1),r=k(!1),h=C(()=>new Date().getFullYear()),y=()=>{d.value=!d.value},x=()=>{n.info({message:"Silakan hubungi Biro Kepegawaian Universitas untuk reset password. Email: kepegawaian@uinib.ac.id",duration:5e3,showClose:!0})},S=()=>{n.info({message:"Bantuan: Hubungi Biro Kepegawaian Universitas (0751) 30071",duration:5e3,showClose:!0})},I=async()=>{if(!e.username.trim()||!e.password){n.warning("Silakan lengkapi username dan password");return}r.value=!0;try{const t={},a=e.username.trim(),o=a.includes("@"),X=/^\d{4}-\d{2}-\d{2}$/.test(e.password);o?(t.email=a,t.password=e.password,console.log("Mode: Email login")):(t.nip=a,t.tanggal_lahir=e.password,console.log("Mode: NIP login")),console.log("Mengirim credentials:",t);const c=await i.login(t);c&&c.success!==!1?(n.success("Login berhasil! Selamat datang."),c.needsProfile||c.status==="NEW_USER"?g.push("/complete-profile"):g.push("/")):n.error(i.error||"Login gagal. Silakan coba lagi.")}catch(t){console.error("Login error:",t),n.error("Terjadi kesalahan pada sistem. Silakan coba lagi nanti.")}finally{r.value=!1}};return E(()=>{document.querySelectorAll(".form-input").forEach(o=>{o.addEventListener("focus",function(){this.parentElement.style.transform="scale(1.02)"}),o.addEventListener("blur",function(){this.parentElement.style.transform="scale(1)"})});const a=localStorage.getItem("rememberedUser");a&&(e.username=a,e.remember=!0)}),(t,a)=>(w(),f("div",j,[a[12]||(a[12]=B('<div class="info-panel" data-v-717c90aa><div class="background-image" data-v-717c90aa></div><div class="background-overlay" data-v-717c90aa></div><div class="logo" data-v-717c90aa><div class="logo-image" data-v-717c90aa><img src="https://ridergalau.id/wp-content/uploads/2025/12/Logo-UIN-Imam-Bonjol-Padang-RiderGalau.png" alt="Logo UIN Imam Bonjol Padang" data-v-717c90aa></div><div class="logo-text" data-v-717c90aa><h1 data-v-717c90aa>SIMPEG <span data-v-717c90aa>UIN Imam Bonjol Padang</span></h1><p data-v-717c90aa>Sistem Informasi Kepegawaian Terintegrasi</p></div></div><div class="system-info" data-v-717c90aa><h2 data-v-717c90aa>Keunggulan Sistem</h2><ul class="features-list" data-v-717c90aa><li class="feature-item" data-v-717c90aa><div class="feature-icon" data-v-717c90aa><i class="fas fa-database" data-v-717c90aa></i></div><div class="feature-text" data-v-717c90aa><h4 data-v-717c90aa>Single Source of Truth</h4><p data-v-717c90aa>Data pegawai terpusat dan terintegrasi untuk semua unit kerja</p></div></li><li class="feature-item" data-v-717c90aa><div class="feature-icon" data-v-717c90aa><i class="fas fa-user-shield" data-v-717c90aa></i></div><div class="feature-text" data-v-717c90aa><h4 data-v-717c90aa>Role-Based Access</h4><p data-v-717c90aa>Akses terkontrol berdasarkan peran dan wewenang pengguna</p></div></li><li class="feature-item" data-v-717c90aa><div class="feature-icon" data-v-717c90aa><i class="fas fa-project-diagram" data-v-717c90aa></i></div><div class="feature-text" data-v-717c90aa><h4 data-v-717c90aa>Workflow Terstruktur</h4><p data-v-717c90aa>Proses administratif dan manajerial yang sistematis dan terdokumentasi</p></div></li></ul></div><div class="role-info" data-v-717c90aa><h4 data-v-717c90aa>Akses Berdasarkan Peran</h4><div class="role-badges" data-v-717c90aa><div class="role-badge" data-v-717c90aa>Admin Universitas</div><div class="role-badge" data-v-717c90aa>Admin Fakultas</div><div class="role-badge" data-v-717c90aa>Pimpinan</div><div class="role-badge" data-v-717c90aa>Dosen</div><div class="role-badge" data-v-717c90aa>Tenaga Kependidikan</div></div></div></div>',1)),s("div",T,[s("form",{class:"login-form",onSubmit:u(I,["prevent"])},[a[10]||(a[10]=s("div",{class:"form-header mb-8"},[s("h2",{class:"text-2xl font-bold"},"Selamat Datang"),s("p",{class:"text-slate-500"},"Silakan masuk ke akun Anda")],-1)),l(i).error?(w(),f("div",V,[s("p",null,m(l(i).error),1)])):M("",!0),s("div",K,[a[4]||(a[4]=s("label",{for:"username",class:"form-label"},"Email / NIP / NIK / Nomor Identitas",-1)),s("div",q,[a[3]||(a[3]=s("i",{class:"fas fa-user"},null,-1)),v(s("input",{type:"text",id:"username",class:"form-input","onUpdate:modelValue":a[0]||(a[0]=o=>e.username=o),placeholder:"Masukkan identitas anda",required:""},null,512),[[N,e.username]])])]),s("div",R,[a[6]||(a[6]=s("label",{for:"password",class:"form-label"},"Password",-1)),s("div",F,[a[5]||(a[5]=s("i",{class:"fas fa-lock"},null,-1)),v(s("input",{type:d.value?"text":"password",id:"password",class:"form-input","onUpdate:modelValue":a[1]||(a[1]=o=>e.password=o),placeholder:"Masukkan password anda",required:""},null,8,H),[[U,e.password]]),s("button",{type:"button",class:"password-toggle",onClick:y},[s("i",{class:b(d.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),a[7]||(a[7]=s("p",{class:"text-xs text-gray-500 mt-1"},null,-1))]),s("div",G,[s("div",W,[v(s("input",{type:"checkbox",id:"remember","onUpdate:modelValue":a[2]||(a[2]=o=>e.remember=o)},null,512),[[L,e.remember]]),a[8]||(a[8]=s("label",{for:"remember",class:"ml-2"},"Ingat saya",-1))]),s("a",{href:"#",class:"forgot-password",onClick:u(x,["prevent"])}," Lupa password? ")]),s("button",{type:"submit",class:"btn-login",disabled:r.value||l(i).loading},[s("i",{class:b([r.value||l(i).loading?"fas fa-spinner fa-spin":"fas fa-sign-in-alt","mr-2"])},null,2),p(" "+m(r.value||l(i).loading?"Memproses...":"Masuk ke Sistem"),1)],8,Y),a[11]||(a[11]=s("div",{class:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded text-xs text-blue-700"},[s("i",{class:"fas fa-info-circle mr-1"}),s("strong",null,"Catatan:"),p(" Sistem akan otomatis mendeteksi apakah Anda login dengan email atau NIP. ")],-1)),s("div",z,[s("p",$,"Â© "+m(h.value)+" TIPD UINIB. Hak cipta dilindungi.",1),s("div",J,[a[9]||(a[9]=p(" Butuh bantuan? Hubungi ",-1)),s("a",{href:"#",onClick:u(S,["prevent"])},"Biro Kepegawaian Universitas")])])],32)])]))}},aa=_(O,[["__scopeId","data-v-717c90aa"]]);export{aa as default};
